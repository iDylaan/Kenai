var Oi=Object.defineProperty;var Jt=n=>{throw TypeError(n)};var $i=(n,e,t)=>e in n?Oi(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var z=(n,e,t)=>$i(n,typeof e!="symbol"?e+"":e,t),Pi=(n,e,t)=>e.has(n)||Jt("Cannot "+t);var en=(n,e,t)=>e.has(n)?Jt("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t);var Se=(n,e,t)=>(Pi(n,e,"access private method"),t);import{B as ee,o as d,c as g,b as f,r as O,m,s as W,E as It,U as ue,R as Me,d as fe,a as w,w as K,u as v,v as k,G as zi,T as be,t as L,f as S,g as ie,H as Di,D as I,O as q,Z as X,I as Sn,J as ot,K as _t,q as Q,F as ae,n as J,e as Je,L as ge,M as tn,i as xt,C as $e,N as Ke,P as Ct,h as D,p as Ln,Q as ft,S as Mi,V as Ki,W as nn,_ as St,X as Lt,Y as Et,$ as En,a0 as h,a1 as Ni,a2 as Fi,j as Vi,l as Hi,a3 as qi}from"./index-BUcfaaSG.js";import{s as Ui,O as Te,a as ji,b as Zi,c as Wi,d as Gi,e as Yi}from"./divider.esm-CcCKjW79.js";import{u as An,s as Xi,k as sn}from"./scroll-C8uUsASp.js";import{s as At,a as Qi}from"./button.esm-D4mzVj8v.js";var Ji={root:"p-toolbar p-component",start:"p-toolbar-group-start p-toolbar-group-left",center:"p-toolbar-group-center",end:"p-toolbar-group-end p-toolbar-group-right"},es=ee.extend({name:"toolbar",classes:Ji}),ts={name:"BaseToolbar",extends:W,props:{ariaLabelledby:{type:String,default:null}},style:es,provide:function(){return{$parentInstance:this}}},Tn={name:"Toolbar",extends:ts,inheritAttrs:!1},ns=["aria-labelledby"];function is(n,e,t,i,s,r){return d(),g("div",m({class:n.cx("root"),role:"toolbar","aria-labelledby":n.ariaLabelledby},n.ptmi("root")),[f("div",m({class:n.cx("start")},n.ptm("start")),[O(n.$slots,"start")],16),f("div",m({class:n.cx("center")},n.ptm("center")),[O(n.$slots,"center")],16),f("div",m({class:n.cx("end")},n.ptm("end")),[O(n.$slots,"end")],16)],16,ns)}Tn.render=is;var ss={root:function(e){var t=e.instance,i=e.props;return["p-inputtextarea p-inputtext p-component",{"p-filled":t.filled,"p-inputtextarea-resizable ":i.autoResize,"p-invalid":i.invalid,"p-variant-filled":i.variant?i.variant==="filled":t.$primevue.config.inputStyle==="filled"}]}},rs=ee.extend({name:"textarea",classes:ss}),os={name:"BaseTextarea",extends:W,props:{modelValue:null,autoResize:Boolean,invalid:{type:Boolean,default:!1},variant:{type:String,default:null}},style:rs,provide:function(){return{$parentInstance:this}}},Bn={name:"Textarea",extends:os,inheritAttrs:!1,emits:["update:modelValue"],mounted:function(){this.$el.offsetParent&&this.autoResize&&this.resize()},updated:function(){this.$el.offsetParent&&this.autoResize&&this.resize()},methods:{resize:function(){this.$el.style.height="auto",this.$el.style.height=this.$el.scrollHeight+"px",parseFloat(this.$el.style.height)>=parseFloat(this.$el.style.maxHeight)?(this.$el.style.overflowY="scroll",this.$el.style.height=this.$el.style.maxHeight):this.$el.style.overflow="hidden"},onInput:function(e){this.autoResize&&this.resize(),this.$emit("update:modelValue",e.target.value)}},computed:{filled:function(){return this.modelValue!=null&&this.modelValue.toString().length>0},ptmParams:function(){return{context:{disabled:this.$attrs.disabled||this.$attrs.disabled===""}}}}},as=["value","aria-invalid"];function ls(n,e,t,i,s,r){return d(),g("textarea",m({class:n.cx("root"),value:n.modelValue,"aria-invalid":n.invalid||void 0,onInput:e[0]||(e[0]=function(){return r.onInput&&r.onInput.apply(r,arguments)})},n.ptmi("root",r.ptmParams)),null,16,as)}Bn.render=ls;var Rn={name:"PlusIcon",extends:It},cs=f("path",{d:"M7.67742 6.32258V0.677419C7.67742 0.497757 7.60605 0.325452 7.47901 0.198411C7.35197 0.0713707 7.17966 0 7 0C6.82034 0 6.64803 0.0713707 6.52099 0.198411C6.39395 0.325452 6.32258 0.497757 6.32258 0.677419V6.32258H0.677419C0.497757 6.32258 0.325452 6.39395 0.198411 6.52099C0.0713707 6.64803 0 6.82034 0 7C0 7.17966 0.0713707 7.35197 0.198411 7.47901C0.325452 7.60605 0.497757 7.67742 0.677419 7.67742H6.32258V13.3226C6.32492 13.5015 6.39704 13.6725 6.52358 13.799C6.65012 13.9255 6.82106 13.9977 7 14C7.17966 14 7.35197 13.9286 7.47901 13.8016C7.60605 13.6745 7.67742 13.5022 7.67742 13.3226V7.67742H13.3226C13.5022 7.67742 13.6745 7.60605 13.8016 7.47901C13.9286 7.35197 14 7.17966 14 7C13.9977 6.82106 13.9255 6.65012 13.799 6.52358C13.6725 6.39704 13.5015 6.32492 13.3226 6.32258H7.67742Z",fill:"currentColor"},null,-1),us=[cs];function ds(n,e,t,i,s,r){return d(),g("svg",m({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.pti()),us,16)}Rn.render=ds;var hs={root:function(e){var t=e.props;return["p-fieldset p-component",{"p-fieldset-toggleable":t.toggleable}]},legend:"p-fieldset-legend",legendtitle:"p-fieldset-legend-text",togglericon:"p-fieldset-toggler",toggleablecontent:"p-toggleable-content",content:"p-fieldset-content"},fs=ee.extend({name:"fieldset",classes:hs}),ps={name:"BaseFieldset",extends:W,props:{legend:String,toggleable:Boolean,collapsed:Boolean,toggleButtonProps:{type:null,default:null}},style:fs,provide:function(){return{$parentInstance:this}}},On={name:"Fieldset",extends:ps,inheritAttrs:!1,emits:["update:collapsed","toggle"],data:function(){return{id:this.$attrs.id,d_collapsed:this.collapsed}},watch:{"$attrs.id":function(e){this.id=e||ue()},collapsed:function(e){this.d_collapsed=e}},mounted:function(){this.id=this.id||ue()},methods:{toggle:function(e){this.d_collapsed=!this.d_collapsed,this.$emit("update:collapsed",this.d_collapsed),this.$emit("toggle",{originalEvent:e,value:this.d_collapsed})},onKeyDown:function(e){(e.code==="Enter"||e.code==="NumpadEnter"||e.code==="Space")&&(this.toggle(e),e.preventDefault())}},computed:{buttonAriaLabel:function(){return this.toggleButtonProps&&this.toggleButtonProps.ariaLabel?this.toggleButtonProps.ariaLabel:this.legend}},directives:{ripple:Me},components:{PlusIcon:Rn,MinusIcon:Ui}};function Pe(n){"@babel/helpers - typeof";return Pe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pe(n)}function rn(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,i)}return t}function on(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?rn(Object(t),!0).forEach(function(i){ms(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):rn(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function ms(n,e,t){return e=gs(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function gs(n){var e=ys(n,"string");return Pe(e)=="symbol"?e:String(e)}function ys(n,e){if(Pe(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(Pe(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var bs=["id"],vs=["id","aria-controls","aria-expanded","aria-label"],ks=["id","aria-labelledby"];function ws(n,e,t,i,s,r){var o=fe("ripple");return d(),g("fieldset",m({class:n.cx("root")},n.ptmi("root")),[f("legend",m({class:n.cx("legend")},n.ptm("legend")),[n.toggleable?w("",!0):O(n.$slots,"legend",{key:0},function(){return[f("span",m({id:s.id+"_header",class:n.cx("legendtitle")},n.ptm("legendtitle")),L(n.legend),17,bs)]}),n.toggleable?K((d(),g("a",m({key:1,id:s.id+"_header",tabindex:"0",role:"button","aria-controls":s.id+"_content","aria-expanded":!s.d_collapsed,"aria-label":r.buttonAriaLabel,onClick:e[0]||(e[0]=function(){return r.toggle&&r.toggle.apply(r,arguments)}),onKeydown:e[1]||(e[1]=function(){return r.onKeyDown&&r.onKeyDown.apply(r,arguments)})},on(on({},n.toggleButtonProps),n.ptm("toggler"))),[O(n.$slots,"togglericon",{collapsed:s.d_collapsed},function(){return[(d(),S(ie(s.d_collapsed?"PlusIcon":"MinusIcon"),m({class:n.cx("togglericon")},n.ptm("togglericon")),null,16,["class"]))]}),O(n.$slots,"legend",{},function(){return[f("span",m({class:n.cx("legendtitle")},n.ptm("legendtitle")),L(n.legend),17)]})],16,vs)),[[o]]):w("",!0)],16),v(be,m({name:"p-toggleable-content"},n.ptm("transition")),{default:k(function(){return[K(f("div",m({id:s.id+"_content",class:n.cx("toggleablecontent"),role:"region","aria-labelledby":s.id+"_header"},n.ptm("toggleablecontent")),[f("div",m({class:n.cx("content")},n.ptm("content")),[O(n.$slots,"default")],16)],16,ks),[[zi,!s.d_collapsed]])]}),_:3},16)],16)}On.render=ws;var Is={root:function(e){var t=e.props;return["p-tag p-component",{"p-tag-info":t.severity==="info","p-tag-success":t.severity==="success","p-tag-warning":t.severity==="warning","p-tag-danger":t.severity==="danger","p-tag-secondary":t.severity==="secondary","p-tag-contrast":t.severity==="contrast","p-tag-rounded":t.rounded}]},icon:"p-tag-icon",value:"p-tag-value"},_s=ee.extend({name:"tag",classes:Is}),xs={name:"BaseTag",extends:W,props:{value:null,severity:null,rounded:Boolean,icon:String},style:_s,provide:function(){return{$parentInstance:this}}},$n={name:"Tag",extends:xs,inheritAttrs:!1};function Cs(n,e,t,i,s,r){return d(),g("span",m({class:n.cx("root")},n.ptmi("root")),[n.$slots.icon?(d(),S(ie(n.$slots.icon),m({key:0,class:n.cx("icon")},n.ptm("icon")),null,16,["class"])):n.icon?(d(),g("span",m({key:1,class:[n.cx("icon"),n.icon]},n.ptm("icon")),null,16)):w("",!0),n.value||n.$slots.default?O(n.$slots,"default",{key:2},function(){return[f("span",m({class:n.cx("value")},n.ptm("value")),L(n.value),17)]}):w("",!0)],16)}$n.render=Cs;var Ss={},Ls=Di.extend({style:Ss});function ze(n){"@babel/helpers - typeof";return ze=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ze(n)}function an(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,i)}return t}function ln(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?an(Object(t),!0).forEach(function(i){Es(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):an(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Es(n,e,t){return e=As(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function As(n){var e=Ts(n,"string");return ze(e)=="symbol"?e:String(e)}function Ts(n,e){if(ze(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(ze(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var Tt=Ls.extend("focustrap",{mounted:function(e,t){var i=t.value||{},s=i.disabled;s||(this.createHiddenFocusableElements(e,t),this.bind(e,t),this.autoElementFocus(e,t)),e.setAttribute("data-pd-focustrap",!0),this.$el=e},updated:function(e,t){var i=t.value||{},s=i.disabled;s&&this.unbind(e)},unmounted:function(e){this.unbind(e)},methods:{getComputedSelector:function(e){return':not(.p-hidden-focusable):not([data-p-hidden-focusable="true"])'.concat(e??"")},bind:function(e,t){var i=this,s=t.value||{},r=s.onFocusIn,o=s.onFocusOut;e.$_pfocustrap_mutationobserver=new MutationObserver(function(a){a.forEach(function(l){if(l.type==="childList"&&!e.contains(document.activeElement)){var c=function u(p){var y=I.isFocusableElement(p)?I.isFocusableElement(p,i.getComputedSelector(e.$_pfocustrap_focusableselector))?p:I.getFirstFocusableElement(e,i.getComputedSelector(e.$_pfocustrap_focusableselector)):I.getFirstFocusableElement(p);return q.isNotEmpty(y)?y:p.nextSibling&&u(p.nextSibling)};I.focus(c(l.nextSibling))}})}),e.$_pfocustrap_mutationobserver.disconnect(),e.$_pfocustrap_mutationobserver.observe(e,{childList:!0}),e.$_pfocustrap_focusinlistener=function(a){return r&&r(a)},e.$_pfocustrap_focusoutlistener=function(a){return o&&o(a)},e.addEventListener("focusin",e.$_pfocustrap_focusinlistener),e.addEventListener("focusout",e.$_pfocustrap_focusoutlistener)},unbind:function(e){e.$_pfocustrap_mutationobserver&&e.$_pfocustrap_mutationobserver.disconnect(),e.$_pfocustrap_focusinlistener&&e.removeEventListener("focusin",e.$_pfocustrap_focusinlistener)&&(e.$_pfocustrap_focusinlistener=null),e.$_pfocustrap_focusoutlistener&&e.removeEventListener("focusout",e.$_pfocustrap_focusoutlistener)&&(e.$_pfocustrap_focusoutlistener=null)},autoFocus:function(e){this.autoElementFocus(this.$el,{value:ln(ln({},e),{},{autoFocus:!0})})},autoElementFocus:function(e,t){var i=t.value||{},s=i.autoFocusSelector,r=s===void 0?"":s,o=i.firstFocusableSelector,a=o===void 0?"":o,l=i.autoFocus,c=l===void 0?!1:l,u=I.getFirstFocusableElement(e,"[autofocus]".concat(this.getComputedSelector(r)));c&&!u&&(u=I.getFirstFocusableElement(e,this.getComputedSelector(a))),I.focus(u)},onFirstHiddenElementFocus:function(e){var t,i=e.currentTarget,s=e.relatedTarget,r=s===i.$_pfocustrap_lasthiddenfocusableelement||!((t=this.$el)!==null&&t!==void 0&&t.contains(s))?I.getFirstFocusableElement(i.parentElement,this.getComputedSelector(i.$_pfocustrap_focusableselector)):i.$_pfocustrap_lasthiddenfocusableelement;I.focus(r)},onLastHiddenElementFocus:function(e){var t,i=e.currentTarget,s=e.relatedTarget,r=s===i.$_pfocustrap_firsthiddenfocusableelement||!((t=this.$el)!==null&&t!==void 0&&t.contains(s))?I.getLastFocusableElement(i.parentElement,this.getComputedSelector(i.$_pfocustrap_focusableselector)):i.$_pfocustrap_firsthiddenfocusableelement;I.focus(r)},createHiddenFocusableElements:function(e,t){var i=this,s=t.value||{},r=s.tabIndex,o=r===void 0?0:r,a=s.firstFocusableSelector,l=a===void 0?"":a,c=s.lastFocusableSelector,u=c===void 0?"":c,p=function(A){return I.createElement("span",{class:"p-hidden-accessible p-hidden-focusable",tabIndex:o,role:"presentation","aria-hidden":!0,"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0,onFocus:A==null?void 0:A.bind(i)})},y=p(this.onFirstHiddenElementFocus),b=p(this.onLastHiddenElementFocus);y.$_pfocustrap_lasthiddenfocusableelement=b,y.$_pfocustrap_focusableselector=l,y.setAttribute("data-pc-section","firstfocusableelement"),b.$_pfocustrap_firsthiddenfocusableelement=y,b.$_pfocustrap_focusableselector=u,b.setAttribute("data-pc-section","lastfocusableelement"),e.prepend(y),e.append(b)}}}),Bs={root:function(e){var t=e.instance;return["p-overlaypanel p-component",{"p-ripple-disabled":t.$primevue.config.ripple===!1}]},content:"p-overlaypanel-content",closeButton:"p-overlaypanel-close p-link",closeIcon:"p-overlaypanel-close-icon"},Rs=ee.extend({name:"overlaypanel",classes:Bs}),Os={name:"BaseOverlayPanel",extends:W,props:{dismissable:{type:Boolean,default:!0},showCloseIcon:{type:Boolean,default:!1},appendTo:{type:[String,Object],default:"body"},baseZIndex:{type:Number,default:0},autoZIndex:{type:Boolean,default:!0},breakpoints:{type:Object,default:null},closeIcon:{type:String,default:void 0},closeOnEscape:{type:Boolean,default:!0}},style:Rs,provide:function(){return{$parentInstance:this}}},Pn={name:"OverlayPanel",extends:Os,inheritAttrs:!1,emits:["show","hide"],data:function(){return{visible:!1}},watch:{dismissable:{immediate:!0,handler:function(e){e?this.bindOutsideClickListener():this.unbindOutsideClickListener()}}},selfClick:!1,target:null,eventTarget:null,outsideClickListener:null,scrollHandler:null,resizeListener:null,container:null,styleElement:null,overlayEventListener:null,documentKeydownListener:null,beforeUnmount:function(){this.dismissable&&this.unbindOutsideClickListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.destroyStyle(),this.unbindResizeListener(),this.target=null,this.container&&this.autoZIndex&&X.clear(this.container),this.overlayEventListener&&(Te.off("overlay-click",this.overlayEventListener),this.overlayEventListener=null),this.container=null},mounted:function(){this.breakpoints&&this.createStyle()},methods:{toggle:function(e,t){this.visible?this.hide():this.show(e,t)},show:function(e,t){this.visible=!0,this.eventTarget=e.currentTarget,this.target=t||e.currentTarget},hide:function(){this.visible=!1},onContentClick:function(){this.selfClick=!0},onEnter:function(e){var t=this;this.container.setAttribute(this.attributeSelector,""),I.addStyles(e,{position:"absolute",top:"0",left:"0"}),this.alignOverlay(),this.dismissable&&this.bindOutsideClickListener(),this.bindScrollListener(),this.bindResizeListener(),this.autoZIndex&&X.set("overlay",e,this.baseZIndex+this.$primevue.config.zIndex.overlay),this.overlayEventListener=function(i){t.container.contains(i.target)&&(t.selfClick=!0)},this.focus(),Te.on("overlay-click",this.overlayEventListener),this.$emit("show"),this.closeOnEscape&&this.bindDocumentKeyDownListener()},onLeave:function(){this.unbindOutsideClickListener(),this.unbindScrollListener(),this.unbindResizeListener(),this.unbindDocumentKeyDownListener(),Te.off("overlay-click",this.overlayEventListener),this.overlayEventListener=null,this.$emit("hide")},onAfterLeave:function(e){this.autoZIndex&&X.clear(e)},alignOverlay:function(){I.absolutePosition(this.container,this.target,!1);var e=I.getOffset(this.container),t=I.getOffset(this.target),i=0;e.left<t.left&&(i=t.left-e.left),this.container.style.setProperty("--overlayArrowLeft","".concat(i,"px")),e.top<t.top&&(this.container.setAttribute("data-p-overlaypanel-flipped","true"),!this.isUnstyled&&I.addClass(this.container,"p-overlaypanel-flipped"))},onContentKeydown:function(e){e.code==="Escape"&&this.closeOnEscape&&(this.hide(),I.focus(this.target))},onButtonKeydown:function(e){switch(e.code){case"ArrowDown":case"ArrowUp":case"ArrowLeft":case"ArrowRight":e.preventDefault()}},focus:function(){var e=this.container.querySelector("[autofocus]");e&&e.focus()},onKeyDown:function(e){e.code==="Escape"&&this.closeOnEscape&&(this.visible=!1)},bindDocumentKeyDownListener:function(){this.documentKeydownListener||(this.documentKeydownListener=this.onKeyDown.bind(this),window.document.addEventListener("keydown",this.documentKeydownListener))},unbindDocumentKeyDownListener:function(){this.documentKeydownListener&&(window.document.removeEventListener("keydown",this.documentKeydownListener),this.documentKeydownListener=null)},bindOutsideClickListener:function(){var e=this;!this.outsideClickListener&&I.isClient()&&(this.outsideClickListener=function(t){e.visible&&!e.selfClick&&!e.isTargetClicked(t)&&(e.visible=!1),e.selfClick=!1},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener:function(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null,this.selfClick=!1)},bindScrollListener:function(){var e=this;this.scrollHandler||(this.scrollHandler=new Sn(this.target,function(){e.visible&&(e.visible=!1)})),this.scrollHandler.bindScrollListener()},unbindScrollListener:function(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener:function(){var e=this;this.resizeListener||(this.resizeListener=function(){e.visible&&!I.isTouchDevice()&&(e.visible=!1)},window.addEventListener("resize",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},isTargetClicked:function(e){return this.eventTarget&&(this.eventTarget===e.target||this.eventTarget.contains(e.target))},containerRef:function(e){this.container=e},createStyle:function(){if(!this.styleElement&&!this.isUnstyled){var e;this.styleElement=document.createElement("style"),this.styleElement.type="text/css",I.setAttribute(this.styleElement,"nonce",(e=this.$primevue)===null||e===void 0||(e=e.config)===null||e===void 0||(e=e.csp)===null||e===void 0?void 0:e.nonce),document.head.appendChild(this.styleElement);var t="";for(var i in this.breakpoints)t+=`
                        @media screen and (max-width: `.concat(i,`) {
                            .p-overlaypanel[`).concat(this.attributeSelector,`] {
                                width: `).concat(this.breakpoints[i],` !important;
                            }
                        }
                    `);this.styleElement.innerHTML=t}},destroyStyle:function(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)},onOverlayClick:function(e){Te.emit("overlay-click",{originalEvent:e,target:this.target})}},computed:{attributeSelector:function(){return ue()},closeAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.close:void 0}},directives:{focustrap:Tt,ripple:Me},components:{Portal:ot,TimesIcon:_t}},$s=["aria-modal"],Ps=["aria-label"];function zs(n,e,t,i,s,r){var o=Q("Portal"),a=fe("ripple"),l=fe("focustrap");return d(),S(o,{appendTo:n.appendTo},{default:k(function(){return[v(be,m({name:"p-overlaypanel",onEnter:r.onEnter,onLeave:r.onLeave,onAfterLeave:r.onAfterLeave},n.ptm("transition")),{default:k(function(){return[s.visible?K((d(),g("div",m({key:0,ref:r.containerRef,role:"dialog","aria-modal":s.visible,onClick:e[5]||(e[5]=function(){return r.onOverlayClick&&r.onOverlayClick.apply(r,arguments)}),class:n.cx("root")},n.ptmi("root")),[n.$slots.container?O(n.$slots,"container",{key:0,onClose:r.hide,onKeydown:function(u){return r.onButtonKeydown(u)},closeCallback:r.hide,keydownCallback:function(u){return r.onButtonKeydown(u)}}):(d(),g(ae,{key:1},[f("div",m({class:n.cx("content"),onClick:e[0]||(e[0]=function(){return r.onContentClick&&r.onContentClick.apply(r,arguments)}),onMousedown:e[1]||(e[1]=function(){return r.onContentClick&&r.onContentClick.apply(r,arguments)}),onKeydown:e[2]||(e[2]=function(){return r.onContentKeydown&&r.onContentKeydown.apply(r,arguments)})},n.ptm("content")),[O(n.$slots,"default")],16),n.showCloseIcon?K((d(),g("button",m({key:0,class:n.cx("closeButton"),"aria-label":r.closeAriaLabel,type:"button",autofocus:"",onClick:e[3]||(e[3]=function(){return r.hide&&r.hide.apply(r,arguments)}),onKeydown:e[4]||(e[4]=function(){return r.onButtonKeydown&&r.onButtonKeydown.apply(r,arguments)})},n.ptm("closeButton")),[O(n.$slots,"closeicon",{},function(){return[(d(),S(ie(n.closeIcon?"span":"TimesIcon"),m({class:[n.cx("closeIcon"),n.closeIcon]},n.ptm("closeIcon")),null,16,["class"]))]})],16,Ps)),[[a]]):w("",!0)],64))],16,$s)),[[l]]):w("",!0)]}),_:3},16,["onEnter","onLeave","onAfterLeave"])]}),_:3},8,["appendTo"])}Pn.render=zs;var Ds={mask:function(e){var t=e.position;return{position:"fixed",height:"100%",width:"100%",left:0,top:0,display:"flex",justifyContent:t==="left"?"flex-start":t==="right"?"flex-end":"center",alignItems:t==="top"?"flex-start":t==="bottom"?"flex-end":"center"}}},Ms={mask:function(e){var t=e.instance,i=e.props,s=["left","right","top","bottom"],r=s.find(function(o){return o===i.position});return["p-sidebar-mask",{"p-component-overlay p-component-overlay-enter":i.modal,"p-sidebar-mask-scrollblocker":i.blockScroll,"p-sidebar-visible":t.containerVisible,"p-sidebar-full":t.fullScreen},r?"p-sidebar-".concat(r):""]},root:function(e){var t=e.instance;return["p-sidebar p-component",{"p-ripple-disabled":t.$primevue.config.ripple===!1,"p-sidebar-full":t.fullScreen}]},header:"p-sidebar-header",title:"p-sidebar-header-content",closeButton:"p-sidebar-close p-sidebar-icon p-link",closeIcon:"p-sidebar-close-icon",content:"p-sidebar-content"},Ks=ee.extend({name:"sidebar",classes:Ms,inlineStyles:Ds}),Ns={name:"BaseSidebar",extends:W,props:{visible:{type:Boolean,default:!1},position:{type:String,default:"left"},header:{type:null,default:null},baseZIndex:{type:Number,default:0},autoZIndex:{type:Boolean,default:!0},dismissable:{type:Boolean,default:!0},showCloseIcon:{type:Boolean,default:!0},closeIcon:{type:String,default:void 0},modal:{type:Boolean,default:!0},blockScroll:{type:Boolean,default:!1}},style:Ks,provide:function(){return{$parentInstance:this}},watch:{dismissable:function(e){e?this.bindOutsideClickListener():this.unbindOutsideClickListener()}}},zn={name:"Sidebar",extends:Ns,inheritAttrs:!1,emits:["update:visible","show","hide","after-hide"],data:function(){return{containerVisible:this.visible}},container:null,mask:null,content:null,headerContainer:null,closeButton:null,outsideClickListener:null,documentKeydownListener:null,updated:function(){this.visible&&(this.containerVisible=this.visible)},beforeUnmount:function(){this.disableDocumentSettings(),this.mask&&this.autoZIndex&&X.clear(this.mask),this.container=null,this.mask=null},methods:{hide:function(){this.$emit("update:visible",!1)},onEnter:function(){this.$emit("show"),this.focus(),this.bindDocumentKeyDownListener(),this.autoZIndex&&X.set("modal",this.mask,this.baseZIndex||this.$primevue.config.zIndex.modal)},onAfterEnter:function(){this.enableDocumentSettings()},onBeforeLeave:function(){this.modal&&!this.isUnstyled&&I.addClass(this.mask,"p-component-overlay-leave")},onLeave:function(){this.$emit("hide")},onAfterLeave:function(){this.autoZIndex&&X.clear(this.mask),this.unbindDocumentKeyDownListener(),this.containerVisible=!1,this.disableDocumentSettings(),this.$emit("after-hide")},onMaskClick:function(e){this.dismissable&&this.modal&&this.mask===e.target&&this.hide()},focus:function(){var e=function(s){return s&&s.querySelector("[autofocus]")},t=this.$slots.header&&e(this.headerContainer);t||(t=this.$slots.default&&e(this.container),t||(t=this.closeButton)),t&&I.focus(t)},enableDocumentSettings:function(){this.dismissable&&!this.modal&&this.bindOutsideClickListener(),this.blockScroll&&I.blockBodyScroll()},disableDocumentSettings:function(){this.unbindOutsideClickListener(),this.blockScroll&&I.unblockBodyScroll()},onKeydown:function(e){e.code==="Escape"&&this.hide()},containerRef:function(e){this.container=e},maskRef:function(e){this.mask=e},contentRef:function(e){this.content=e},headerContainerRef:function(e){this.headerContainer=e},closeButtonRef:function(e){this.closeButton=e},bindDocumentKeyDownListener:function(){this.documentKeydownListener||(this.documentKeydownListener=this.onKeydown,document.addEventListener("keydown",this.documentKeydownListener))},unbindDocumentKeyDownListener:function(){this.documentKeydownListener&&(document.removeEventListener("keydown",this.documentKeydownListener),this.documentKeydownListener=null)},bindOutsideClickListener:function(){var e=this;this.outsideClickListener||(this.outsideClickListener=function(t){e.isOutsideClicked(t)&&e.hide()},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener:function(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)},isOutsideClicked:function(e){return this.container&&!this.container.contains(e.target)}},computed:{fullScreen:function(){return this.position==="full"},closeAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.close:void 0}},directives:{focustrap:Tt,ripple:Me},components:{Portal:ot,TimesIcon:_t}},Fs=["aria-modal"],Vs=["aria-label"];function Hs(n,e,t,i,s,r){var o=Q("Portal"),a=fe("ripple"),l=fe("focustrap");return d(),S(o,null,{default:k(function(){return[s.containerVisible?(d(),g("div",m({key:0,ref:r.maskRef,onMousedown:e[1]||(e[1]=function(){return r.onMaskClick&&r.onMaskClick.apply(r,arguments)}),class:n.cx("mask"),style:n.sx("mask",!0,{position:n.position})},n.ptm("mask")),[v(be,m({name:"p-sidebar",onEnter:r.onEnter,onAfterEnter:r.onAfterEnter,onBeforeLeave:r.onBeforeLeave,onLeave:r.onLeave,onAfterLeave:r.onAfterLeave,appear:""},n.ptm("transition")),{default:k(function(){return[n.visible?K((d(),g("div",m({key:0,ref:r.containerRef,class:n.cx("root"),role:"complementary","aria-modal":n.modal},n.ptmi("root")),[n.$slots.container?O(n.$slots,"container",{key:0,onClose:r.hide,closeCallback:r.hide}):(d(),g(ae,{key:1},[f("div",m({ref:r.headerContainerRef,class:n.cx("header")},n.ptm("header")),[O(n.$slots,"header",{class:J(n.cx("title"))},function(){return[n.header?(d(),g("div",m({key:0,class:n.cx("title")},n.ptm("title")),L(n.header),17)):w("",!0)]}),n.showCloseIcon?K((d(),g("button",m({key:0,ref:r.closeButtonRef,type:"button",class:n.cx("closeButton"),"aria-label":r.closeAriaLabel,onClick:e[0]||(e[0]=function(){return r.hide&&r.hide.apply(r,arguments)})},n.ptm("closeButton"),{"data-pc-group-section":"iconcontainer"}),[O(n.$slots,"closeicon",{class:J(n.cx("closeIcon"))},function(){return[(d(),S(ie(n.closeIcon?"span":"TimesIcon"),m({class:[n.cx("closeIcon"),n.closeIcon]},n.ptm("closeIcon")),null,16,["class"]))]})],16,Vs)),[[a]]):w("",!0)],16),f("div",m({ref:r.contentRef,class:n.cx("content")},n.ptm("content")),[O(n.$slots,"default")],16)],64))],16,Fs)),[[l]]):w("",!0)]}),_:3},16,["onEnter","onAfterEnter","onBeforeLeave","onLeave","onAfterLeave"])],16)):w("",!0)]}),_:3})}zn.render=Hs;var qs={submenu:function(e){var t=e.instance,i=e.processedItem;return{display:t.isItemActive(i)?"block":"none"}}},Us={root:function(e){var t=e.instance,i=e.props;return["p-tieredmenu p-component",{"p-tieredmenu-overlay":i.popup,"p-ripple-disabled":t.$primevue.config.ripple===!1}]},start:"p-tieredmenu-start",menu:"p-tieredmenu-root-list",menuitem:function(e){var t=e.instance,i=e.processedItem;return["p-menuitem",{"p-menuitem-active p-highlight":t.isItemActive(i),"p-focus":t.isItemFocused(i),"p-disabled":t.isItemDisabled(i)}]},content:"p-menuitem-content",action:"p-menuitem-link",icon:"p-menuitem-icon",text:"p-menuitem-text",submenuIcon:"p-submenu-icon",submenu:"p-submenu-list",separator:"p-menuitem-separator",end:"p-tieredmenu-end"},js=ee.extend({name:"tieredmenu",classes:Us,inlineStyles:qs}),Zs={name:"BaseTieredMenu",extends:W,props:{popup:{type:Boolean,default:!1},model:{type:Array,default:null},appendTo:{type:[String,Object],default:"body"},autoZIndex:{type:Boolean,default:!0},baseZIndex:{type:Number,default:0},disabled:{type:Boolean,default:!1},tabindex:{type:Number,default:0},ariaLabelledby:{type:String,default:null},ariaLabel:{type:String,default:null}},style:js,provide:function(){return{$parentInstance:this}}},Dn={name:"TieredMenuSub",hostName:"TieredMenu",extends:W,emits:["item-click","item-mouseenter","item-mousemove"],container:null,props:{menuId:{type:String,default:null},focusedItemId:{type:String,default:null},items:{type:Array,default:null},visible:{type:Boolean,default:!1},level:{type:Number,default:0},templates:{type:Object,default:null},activeItemPath:{type:Object,default:null},tabindex:{type:Number,default:0}},methods:{getItemId:function(e){return"".concat(this.menuId,"_").concat(e.key)},getItemKey:function(e){return this.getItemId(e)},getItemProp:function(e,t,i){return e&&e.item?q.getItemValue(e.item[t],i):void 0},getItemLabel:function(e){return this.getItemProp(e,"label")},getItemLabelId:function(e){return"".concat(this.menuId,"_").concat(e.key,"_label")},getPTOptions:function(e,t,i){return this.ptm(i,{context:{item:e,index:t,active:this.isItemActive(e),focused:this.isItemFocused(e),disabled:this.isItemDisabled(e)}})},isItemActive:function(e){return this.activeItemPath.some(function(t){return t.key===e.key})},isItemVisible:function(e){return this.getItemProp(e,"visible")!==!1},isItemDisabled:function(e){return this.getItemProp(e,"disabled")},isItemFocused:function(e){return this.focusedItemId===this.getItemId(e)},isItemGroup:function(e){return q.isNotEmpty(e.items)},onEnter:function(){I.nestedPosition(this.container,this.level)},onItemClick:function(e,t){this.getItemProp(t,"command",{originalEvent:e,item:t.item}),this.$emit("item-click",{originalEvent:e,processedItem:t,isFocus:!0})},onItemMouseEnter:function(e,t){this.$emit("item-mouseenter",{originalEvent:e,processedItem:t})},onItemMouseMove:function(e,t){this.$emit("item-mousemove",{originalEvent:e,processedItem:t})},getAriaSetSize:function(){var e=this;return this.items.filter(function(t){return e.isItemVisible(t)&&!e.getItemProp(t,"separator")}).length},getAriaPosInset:function(e){var t=this;return e-this.items.slice(0,e).filter(function(i){return t.isItemVisible(i)&&t.getItemProp(i,"separator")}).length+1},getMenuItemProps:function(e,t){return{action:m({class:this.cx("action"),tabindex:-1,"aria-hidden":!0},this.getPTOptions(e,t,"action")),icon:m({class:[this.cx("icon"),this.getItemProp(e,"icon")]},this.getPTOptions(e,t,"icon")),label:m({class:this.cx("label")},this.getPTOptions(e,t,"label")),submenuicon:m({class:this.cx("submenuIcon")},this.getPTOptions(e,t,"submenuIcon"))}},containerRef:function(e){this.container=e}},components:{AngleRightIcon:ji},directives:{ripple:Me}},Ws=["tabindex"],Gs=["id","aria-label","aria-disabled","aria-expanded","aria-haspopup","aria-level","aria-setsize","aria-posinset","data-p-highlight","data-p-focused","data-p-disabled"],Ys=["onClick","onMouseenter","onMousemove"],Xs=["href","target"],Qs=["id"],Js=["id"];function er(n,e,t,i,s,r){var o=Q("AngleRightIcon"),a=Q("TieredMenuSub",!0),l=fe("ripple");return d(),S(be,m({name:"p-tieredmenu",onEnter:r.onEnter},n.ptm("menu.transition")),{default:k(function(){return[t.level===0||t.visible?(d(),g("ul",m({key:0,ref:r.containerRef,class:t.level===0?n.cx("menu"):n.cx("submenu"),tabindex:t.tabindex},t.level===0?n.ptm("menu"):n.ptm("submenu")),[(d(!0),g(ae,null,Je(t.items,function(c,u){return d(),g(ae,{key:r.getItemKey(c)},[r.isItemVisible(c)&&!r.getItemProp(c,"separator")?(d(),g("li",m({key:0,id:r.getItemId(c),style:r.getItemProp(c,"style"),class:[n.cx("menuitem",{processedItem:c}),r.getItemProp(c,"class")],role:"menuitem","aria-label":r.getItemLabel(c),"aria-disabled":r.isItemDisabled(c)||void 0,"aria-expanded":r.isItemGroup(c)?r.isItemActive(c):void 0,"aria-haspopup":r.isItemGroup(c)&&!r.getItemProp(c,"to")?"menu":void 0,"aria-level":t.level+1,"aria-setsize":r.getAriaSetSize(),"aria-posinset":r.getAriaPosInset(u)},r.getPTOptions(c,u,"menuitem"),{"data-p-highlight":r.isItemActive(c),"data-p-focused":r.isItemFocused(c),"data-p-disabled":r.isItemDisabled(c)}),[f("div",m({class:n.cx("content"),onClick:function(y){return r.onItemClick(y,c)},onMouseenter:function(y){return r.onItemMouseEnter(y,c)},onMousemove:function(y){return r.onItemMouseMove(y,c)}},r.getPTOptions(c,u,"content")),[t.templates.item?(d(),S(ie(t.templates.item),{key:1,item:c.item,hasSubmenu:r.getItemProp(c,"items"),label:r.getItemLabel(c),props:r.getMenuItemProps(c,u)},null,8,["item","hasSubmenu","label","props"])):K((d(),g("a",m({key:0,href:r.getItemProp(c,"url"),class:n.cx("action"),target:r.getItemProp(c,"target"),tabindex:"-1","aria-hidden":"true"},r.getPTOptions(c,u,"action")),[t.templates.itemicon?(d(),S(ie(t.templates.itemicon),{key:0,item:c.item,class:J(n.cx("icon"))},null,8,["item","class"])):r.getItemProp(c,"icon")?(d(),g("span",m({key:1,class:[n.cx("icon"),r.getItemProp(c,"icon")]},r.getPTOptions(c,u,"icon")),null,16)):w("",!0),f("span",m({id:r.getItemLabelId(c),class:n.cx("label")},r.getPTOptions(c,u,"label")),L(r.getItemLabel(c)),17,Qs),r.getItemProp(c,"items")?(d(),g(ae,{key:2},[t.templates.submenuicon?(d(),S(ie(t.templates.submenuicon),m({key:0,class:n.cx("submenuIcon"),active:r.isItemActive(c)},r.getPTOptions(c,u,"submenuIcon")),null,16,["class","active"])):(d(),S(o,m({key:1,class:n.cx("submenuIcon")},r.getPTOptions(c,u,"submenuIcon")),null,16,["class"]))],64)):w("",!0)],16,Xs)),[[l]])],16,Ys),r.isItemVisible(c)&&r.isItemGroup(c)?(d(),S(a,{key:0,id:r.getItemId(c)+"_list",style:ge(n.sx("submenu",!0,{processedItem:c})),"aria-labelledby":r.getItemLabelId(c),role:"menu",menuId:t.menuId,focusedItemId:t.focusedItemId,items:c.items,templates:t.templates,activeItemPath:t.activeItemPath,level:t.level+1,visible:r.isItemActive(c)&&r.isItemGroup(c),pt:n.pt,unstyled:n.unstyled,onItemClick:e[0]||(e[0]=function(p){return n.$emit("item-click",p)}),onItemMouseenter:e[1]||(e[1]=function(p){return n.$emit("item-mouseenter",p)}),onItemMousemove:e[2]||(e[2]=function(p){return n.$emit("item-mousemove",p)})},null,8,["id","style","aria-labelledby","menuId","focusedItemId","items","templates","activeItemPath","level","visible","pt","unstyled"])):w("",!0)],16,Gs)):w("",!0),r.isItemVisible(c)&&r.getItemProp(c,"separator")?(d(),g("li",m({key:1,id:r.getItemId(c),style:r.getItemProp(c,"style"),class:[n.cx("separator"),r.getItemProp(c,"class")],role:"separator"},n.ptm("separator")),null,16,Js)):w("",!0)],64)}),128))],16,Ws)):w("",!0)]}),_:1},16,["onEnter"])}Dn.render=er;var Mn={name:"TieredMenu",extends:Zs,inheritAttrs:!1,emits:["focus","blur","before-show","before-hide","hide","show"],outsideClickListener:null,scrollHandler:null,resizeListener:null,target:null,container:null,menubar:null,searchTimeout:null,searchValue:null,data:function(){return{id:this.$attrs.id,focused:!1,focusedItemInfo:{index:-1,level:0,parentKey:""},activeItemPath:[],visible:!this.popup,submenuVisible:!1,dirty:!1}},watch:{"$attrs.id":function(e){this.id=e||ue()},activeItemPath:function(e){this.popup||(q.isNotEmpty(e)?(this.bindOutsideClickListener(),this.bindResizeListener()):(this.unbindOutsideClickListener(),this.unbindResizeListener()))}},mounted:function(){this.id=this.id||ue()},beforeUnmount:function(){this.unbindOutsideClickListener(),this.unbindResizeListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.container&&this.autoZIndex&&X.clear(this.container),this.target=null,this.container=null},methods:{getItemProp:function(e,t){return e?q.getItemValue(e[t]):void 0},getItemLabel:function(e){return this.getItemProp(e,"label")},isItemDisabled:function(e){return this.getItemProp(e,"disabled")},isItemVisible:function(e){return this.getItemProp(e,"visible")!==!1},isItemGroup:function(e){return q.isNotEmpty(this.getItemProp(e,"items"))},isItemSeparator:function(e){return this.getItemProp(e,"separator")},getProccessedItemLabel:function(e){return e?this.getItemLabel(e.item):void 0},isProccessedItemGroup:function(e){return e&&q.isNotEmpty(e.items)},toggle:function(e){this.visible?this.hide(e,!0):this.show(e)},show:function(e,t){this.popup&&(this.$emit("before-show"),this.visible=!0,this.target=this.target||e.currentTarget,this.relatedTarget=e.relatedTarget||null),t&&I.focus(this.menubar)},hide:function(e,t){this.popup&&(this.$emit("before-hide"),this.visible=!1),this.activeItemPath=[],this.focusedItemInfo={index:-1,level:0,parentKey:""},t&&I.focus(this.relatedTarget||this.target||this.menubar),this.dirty=!1},onFocus:function(e){this.focused=!0,this.popup||(this.focusedItemInfo=this.focusedItemInfo.index!==-1?this.focusedItemInfo:{index:this.findFirstFocusedItemIndex(),level:0,parentKey:""}),this.$emit("focus",e)},onBlur:function(e){this.focused=!1,this.focusedItemInfo={index:-1,level:0,parentKey:""},this.searchValue="",this.dirty=!1,this.$emit("blur",e)},onKeyDown:function(e){if(this.disabled){e.preventDefault();return}var t=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"ArrowLeft":this.onArrowLeftKey(e);break;case"ArrowRight":this.onArrowRightKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"Space":this.onSpaceKey(e);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"PageDown":case"PageUp":case"Backspace":case"ShiftLeft":case"ShiftRight":break;default:!t&&q.isPrintableCharacter(e.key)&&this.searchItems(e,e.key);break}},onItemChange:function(e){var t=e.processedItem,i=e.isFocus;if(!q.isEmpty(t)){var s=t.index,r=t.key,o=t.level,a=t.parentKey,l=t.items,c=q.isNotEmpty(l),u=this.activeItemPath.filter(function(p){return p.parentKey!==a&&p.parentKey!==r});c&&(u.push(t),this.submenuVisible=!0),this.focusedItemInfo={index:s,level:o,parentKey:a},this.activeItemPath=u,c&&(this.dirty=!0),i&&I.focus(this.menubar)}},onOverlayClick:function(e){Te.emit("overlay-click",{originalEvent:e,target:this.target})},onItemClick:function(e){var t=e.originalEvent,i=e.processedItem,s=this.isProccessedItemGroup(i),r=q.isEmpty(i.parent),o=this.isSelected(i);if(o){var a=i.index,l=i.key,c=i.level,u=i.parentKey;this.activeItemPath=this.activeItemPath.filter(function(y){return l!==y.key&&l.startsWith(y.key)}),this.focusedItemInfo={index:a,level:c,parentKey:u},this.dirty=!r,I.focus(this.menubar)}else if(s)this.onItemChange(e);else{var p=r?i:this.activeItemPath.find(function(y){return y.parentKey===""});this.hide(t),this.changeFocusedItemIndex(t,p?p.index:-1),I.focus(this.menubar)}},onItemMouseEnter:function(e){this.dirty&&this.onItemChange(e)},onItemMouseMove:function(e){this.focused&&this.changeFocusedItemIndex(e,e.processedItem.index)},onArrowDownKey:function(e){var t=this.focusedItemInfo.index!==-1?this.findNextItemIndex(this.focusedItemInfo.index):this.findFirstFocusedItemIndex();this.changeFocusedItemIndex(e,t),e.preventDefault()},onArrowUpKey:function(e){if(e.altKey){if(this.focusedItemInfo.index!==-1){var t=this.visibleItems[this.focusedItemInfo.index],i=this.isProccessedItemGroup(t);!i&&this.onItemChange({originalEvent:e,processedItem:t})}this.popup&&this.hide(e,!0),e.preventDefault()}else{var s=this.focusedItemInfo.index!==-1?this.findPrevItemIndex(this.focusedItemInfo.index):this.findLastFocusedItemIndex();this.changeFocusedItemIndex(e,s),e.preventDefault()}},onArrowLeftKey:function(e){var t=this,i=this.visibleItems[this.focusedItemInfo.index],s=this.activeItemPath.find(function(o){return o.key===i.parentKey}),r=q.isEmpty(i.parent);r||(this.focusedItemInfo={index:-1,parentKey:s?s.parentKey:""},this.searchValue="",this.onArrowDownKey(e)),this.activeItemPath=this.activeItemPath.filter(function(o){return o.parentKey!==t.focusedItemInfo.parentKey}),e.preventDefault()},onArrowRightKey:function(e){var t=this.visibleItems[this.focusedItemInfo.index],i=this.isProccessedItemGroup(t);i&&(this.onItemChange({originalEvent:e,processedItem:t}),this.focusedItemInfo={index:-1,parentKey:t.key},this.searchValue="",this.onArrowDownKey(e)),e.preventDefault()},onHomeKey:function(e){this.changeFocusedItemIndex(e,this.findFirstItemIndex()),e.preventDefault()},onEndKey:function(e){this.changeFocusedItemIndex(e,this.findLastItemIndex()),e.preventDefault()},onEnterKey:function(e){if(this.focusedItemInfo.index!==-1){var t=I.findSingle(this.menubar,'li[id="'.concat("".concat(this.focusedItemId),'"]')),i=t&&I.findSingle(t,'[data-pc-section="action"]');if(i?i.click():t&&t.click(),!this.popup){var s=this.visibleItems[this.focusedItemInfo.index],r=this.isProccessedItemGroup(s);!r&&(this.focusedItemInfo.index=this.findFirstFocusedItemIndex())}}e.preventDefault()},onSpaceKey:function(e){this.onEnterKey(e)},onEscapeKey:function(e){if(this.focusedItemInfo.level!==0){var t=this.focusedItemInfo;this.hide(e,!1),!this.popup&&(this.focusedItemInfo={index:Number(t.parentKey.split("_")[0]),level:0,parentKey:""})}e.preventDefault()},onTabKey:function(e){if(this.focusedItemInfo.index!==-1){var t=this.visibleItems[this.focusedItemInfo.index],i=this.isProccessedItemGroup(t);!i&&this.onItemChange({originalEvent:e,processedItem:t})}this.hide()},onEnter:function(e){this.autoZIndex&&X.set("menu",e,this.baseZIndex+this.$primevue.config.zIndex.menu),I.addStyles(e,{position:"absolute",top:"0",left:"0"}),this.alignOverlay(),I.focus(this.menubar),this.scrollInView()},onAfterEnter:function(){this.bindOutsideClickListener(),this.bindScrollListener(),this.bindResizeListener(),this.$emit("show")},onLeave:function(){this.unbindOutsideClickListener(),this.unbindScrollListener(),this.unbindResizeListener(),this.$emit("hide"),this.container=null,this.dirty=!1},onAfterLeave:function(e){this.autoZIndex&&X.clear(e)},alignOverlay:function(){I.absolutePosition(this.container,this.target);var e=I.getOuterWidth(this.target);e>I.getOuterWidth(this.container)&&(this.container.style.minWidth=I.getOuterWidth(this.target)+"px")},bindOutsideClickListener:function(){var e=this;this.outsideClickListener||(this.outsideClickListener=function(t){var i=e.container&&!e.container.contains(t.target),s=e.popup?!(e.target&&(e.target===t.target||e.target.contains(t.target))):!0;i&&s&&e.hide()},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener:function(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)},bindScrollListener:function(){var e=this;this.scrollHandler||(this.scrollHandler=new Sn(this.target,function(t){e.hide(t,!0)})),this.scrollHandler.bindScrollListener()},unbindScrollListener:function(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener:function(){var e=this;this.resizeListener||(this.resizeListener=function(t){I.isTouchDevice()||e.hide(t,!0)},window.addEventListener("resize",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},isItemMatched:function(e){var t;return this.isValidItem(e)&&((t=this.getProccessedItemLabel(e))===null||t===void 0?void 0:t.toLocaleLowerCase().startsWith(this.searchValue.toLocaleLowerCase()))},isValidItem:function(e){return!!e&&!this.isItemDisabled(e.item)&&!this.isItemSeparator(e.item)&&this.isItemVisible(e.item)},isValidSelectedItem:function(e){return this.isValidItem(e)&&this.isSelected(e)},isSelected:function(e){return this.activeItemPath.some(function(t){return t.key===e.key})},findFirstItemIndex:function(){var e=this;return this.visibleItems.findIndex(function(t){return e.isValidItem(t)})},findLastItemIndex:function(){var e=this;return q.findLastIndex(this.visibleItems,function(t){return e.isValidItem(t)})},findNextItemIndex:function(e){var t=this,i=e<this.visibleItems.length-1?this.visibleItems.slice(e+1).findIndex(function(s){return t.isValidItem(s)}):-1;return i>-1?i+e+1:e},findPrevItemIndex:function(e){var t=this,i=e>0?q.findLastIndex(this.visibleItems.slice(0,e),function(s){return t.isValidItem(s)}):-1;return i>-1?i:e},findSelectedItemIndex:function(){var e=this;return this.visibleItems.findIndex(function(t){return e.isValidSelectedItem(t)})},findFirstFocusedItemIndex:function(){var e=this.findSelectedItemIndex();return e<0?this.findFirstItemIndex():e},findLastFocusedItemIndex:function(){var e=this.findSelectedItemIndex();return e<0?this.findLastItemIndex():e},searchItems:function(e,t){var i=this;this.searchValue=(this.searchValue||"")+t;var s=-1,r=!1;return this.focusedItemInfo.index!==-1?(s=this.visibleItems.slice(this.focusedItemInfo.index).findIndex(function(o){return i.isItemMatched(o)}),s=s===-1?this.visibleItems.slice(0,this.focusedItemInfo.index).findIndex(function(o){return i.isItemMatched(o)}):s+this.focusedItemInfo.index):s=this.visibleItems.findIndex(function(o){return i.isItemMatched(o)}),s!==-1&&(r=!0),s===-1&&this.focusedItemInfo.index===-1&&(s=this.findFirstFocusedItemIndex()),s!==-1&&this.changeFocusedItemIndex(e,s),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(function(){i.searchValue="",i.searchTimeout=null},500),r},changeFocusedItemIndex:function(e,t){this.focusedItemInfo.index!==t&&(this.focusedItemInfo.index=t,this.scrollInView())},scrollInView:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:-1,t=e!==-1?"".concat(this.id,"_").concat(e):this.focusedItemId,i=I.findSingle(this.menubar,'li[id="'.concat(t,'"]'));i&&i.scrollIntoView&&i.scrollIntoView({block:"nearest",inline:"start"})},createProcessedItems:function(e){var t=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"",o=[];return e&&e.forEach(function(a,l){var c=(r!==""?r+"_":"")+l,u={item:a,index:l,level:i,key:c,parent:s,parentKey:r};u.items=t.createProcessedItems(a.items,i+1,u,c),o.push(u)}),o},containerRef:function(e){this.container=e},menubarRef:function(e){this.menubar=e?e.$el:void 0}},computed:{processedItems:function(){return this.createProcessedItems(this.model||[])},visibleItems:function(){var e=this,t=this.activeItemPath.find(function(i){return i.key===e.focusedItemInfo.parentKey});return t?t.items:this.processedItems},focusedItemId:function(){return this.focusedItemInfo.index!==-1?"".concat(this.id).concat(q.isNotEmpty(this.focusedItemInfo.parentKey)?"_"+this.focusedItemInfo.parentKey:"","_").concat(this.focusedItemInfo.index):null}},components:{TieredMenuSub:Dn,Portal:ot}},tr=["id"];function nr(n,e,t,i,s,r){var o=Q("TieredMenuSub"),a=Q("Portal");return d(),S(a,{appendTo:n.appendTo,disabled:!n.popup},{default:k(function(){return[v(be,m({name:"p-connected-overlay",onEnter:r.onEnter,onAfterEnter:r.onAfterEnter,onLeave:r.onLeave,onAfterLeave:r.onAfterLeave},n.ptm("transition")),{default:k(function(){return[s.visible?(d(),g("div",m({key:0,ref:r.containerRef,id:s.id,class:n.cx("root"),onClick:e[0]||(e[0]=function(){return r.onOverlayClick&&r.onOverlayClick.apply(r,arguments)})},n.ptmi("root")),[n.$slots.start?(d(),g("div",m({key:0,class:n.cx("start")},n.ptm("start")),[O(n.$slots,"start")],16)):w("",!0),v(o,{ref:r.menubarRef,id:s.id+"_list",tabindex:n.disabled?-1:n.tabindex,role:"menubar","aria-label":n.ariaLabel,"aria-labelledby":n.ariaLabelledby,"aria-disabled":n.disabled||void 0,"aria-orientation":"vertical","aria-activedescendant":s.focused?r.focusedItemId:void 0,menuId:s.id,focusedItemId:s.focused?r.focusedItemId:void 0,items:r.processedItems,templates:n.$slots,activeItemPath:s.activeItemPath,level:0,visible:s.submenuVisible,pt:n.pt,unstyled:n.unstyled,onFocus:r.onFocus,onBlur:r.onBlur,onKeydown:r.onKeyDown,onItemClick:r.onItemClick,onItemMouseenter:r.onItemMouseEnter,onItemMousemove:r.onItemMouseMove},null,8,["id","tabindex","aria-label","aria-labelledby","aria-disabled","aria-activedescendant","menuId","focusedItemId","items","templates","activeItemPath","visible","pt","unstyled","onFocus","onBlur","onKeydown","onItemClick","onItemMouseenter","onItemMousemove"]),n.$slots.end?(d(),g("div",m({key:1,class:n.cx("end")},n.ptm("end")),[O(n.$slots,"end")],16)):w("",!0)],16,tr)):w("",!0)]}),_:3},16,["onEnter","onAfterEnter","onLeave","onAfterLeave"])]}),_:3},8,["appendTo","disabled"])}Mn.render=nr;var ir={root:function(e){var t=e.props;return["p-splitbutton p-component",{"p-button-raised":t.raised,"p-button-rounded":t.rounded,"p-button-text":t.text,"p-button-outlined":t.outlined,"p-button-sm":t.size==="small","p-button-lg":t.size==="large"}]},button:"p-splitbutton-defaultbutton",menuButton:"p-splitbutton-menubutton"},sr=ee.extend({name:"splitbutton",classes:ir}),rr={name:"BaseSplitButton",extends:W,props:{label:{type:String,default:null},icon:{type:String,default:null},model:{type:Array,default:null},autoZIndex:{type:Boolean,default:!0},baseZIndex:{type:Number,default:0},appendTo:{type:[String,Object],default:"body"},disabled:{type:Boolean,default:!1},class:{type:null,default:null},style:{type:null,default:null},buttonProps:{type:null,default:null},menuButtonProps:{type:null,default:null},menuButtonIcon:{type:String,default:void 0},severity:{type:String,default:null},raised:{type:Boolean,default:!1},rounded:{type:Boolean,default:!1},text:{type:Boolean,default:!1},outlined:{type:Boolean,default:!1},size:{type:String,default:null},plain:{type:Boolean,default:!1}},style:sr,provide:function(){return{$parentInstance:this}}},Kn={name:"SplitButton",extends:rr,inheritAttrs:!1,emits:["click"],data:function(){return{id:this.$attrs.id,isExpanded:!1}},watch:{"$attrs.id":function(e){this.id=e||ue()}},mounted:function(){var e=this;this.id=this.id||ue(),this.$watch("$refs.menu.visible",function(t){e.isExpanded=t})},methods:{onDropdownButtonClick:function(e){e&&e.preventDefault(),this.$refs.menu.toggle({currentTarget:this.$el,relatedTarget:this.$refs.button.$el}),this.isExpanded=this.$refs.menu.visible},onDropdownKeydown:function(e){(e.code==="ArrowDown"||e.code==="ArrowUp")&&(this.onDropdownButtonClick(),e.preventDefault())},onDefaultButtonClick:function(e){this.isExpanded&&this.$refs.menu.hide(e),this.$emit("click",e)}},computed:{containerClass:function(){return[this.cx("root"),this.class]}},components:{PVSButton:At,PVSMenu:Mn,ChevronDownIcon:Qi}},or=["data-p-severity"];function ar(n,e,t,i,s,r){var o=Q("PVSButton"),a=Q("PVSMenu");return d(),g("div",m({class:r.containerClass,style:n.style},n.ptmi("root"),{"data-p-severity":n.severity}),[v(o,m({type:"button",class:n.cx("button"),label:n.label,disabled:n.disabled,severity:n.severity,text:n.text,outlined:n.outlined,size:n.size,"aria-label":n.label,onClick:r.onDefaultButtonClick},n.buttonProps,{pt:n.ptm("button"),unstyled:n.unstyled}),tn({default:k(function(){return[O(n.$slots,"default")]}),_:2},[n.$slots.icon?{name:"icon",fn:k(function(l){return[O(n.$slots,"icon",{class:J(l.class)},function(){return[f("span",m({class:[n.icon,l.class]},n.ptm("button").icon,{"data-pc-section":"buttonicon"}),null,16)]})]}),key:"0"}:void 0]),1040,["class","label","disabled","severity","text","outlined","size","aria-label","onClick","pt","unstyled"]),v(o,m({ref:"button",type:"button",class:n.cx("menuButton"),disabled:n.disabled,"aria-haspopup":"true","aria-expanded":s.isExpanded,"aria-controls":s.id+"_overlay",onClick:r.onDropdownButtonClick,onKeydown:r.onDropdownKeydown,severity:n.severity,text:n.text,outlined:n.outlined,size:n.size},n.menuButtonProps,{pt:n.ptm("menuButton"),unstyled:n.unstyled}),{icon:k(function(l){return[O(n.$slots,"menubuttonicon",{class:J(l.class)},function(){return[(d(),S(ie(n.menuButtonIcon?"span":"ChevronDownIcon"),m({class:[n.menuButtonIcon,l.class]},n.ptm("menuButton").icon,{"data-pc-section":"menubuttonicon"}),null,16,["class"]))]})]}),_:3},16,["class","disabled","aria-expanded","aria-controls","onClick","onKeydown","severity","text","outlined","size","pt","unstyled"]),v(a,{ref:"menu",id:s.id+"_overlay",model:n.model,popup:!0,autoZIndex:n.autoZIndex,baseZIndex:n.baseZIndex,appendTo:n.appendTo,unstyled:n.unstyled,pt:n.ptm("menu")},tn({_:2},[n.$slots.menuitemicon?{name:"itemicon",fn:k(function(l){return[O(n.$slots,"menuitemicon",{item:l.item,class:J(l.class)})]}),key:"0"}:void 0,n.$slots.item?{name:"item",fn:k(function(l){return[O(n.$slots,"item",{item:l.item,hasSubmenu:l.hasSubmenu,label:l.label,props:l.props})]}),key:"1"}:void 0]),1032,["id","model","autoZIndex","baseZIndex","appendTo","unstyled","pt"])],16,or)}Kn.render=ar;var lr={root:{position:"relative"}},cr={root:function(e){var t=e.props;return["p-skeleton p-component",{"p-skeleton-circle":t.shape==="circle","p-skeleton-none":t.animation==="none"}]}},ur=ee.extend({name:"skeleton",classes:cr,inlineStyles:lr}),dr={name:"BaseSkeleton",extends:W,props:{shape:{type:String,default:"rectangle"},size:{type:String,default:null},width:{type:String,default:"100%"},height:{type:String,default:"1rem"},borderRadius:{type:String,default:null},animation:{type:String,default:"wave"}},style:ur,provide:function(){return{$parentInstance:this}}},Nn={name:"Skeleton",extends:dr,inheritAttrs:!1,computed:{containerStyle:function(){return this.size?{width:this.size,height:this.size,borderRadius:this.borderRadius}:{width:this.width,height:this.height,borderRadius:this.borderRadius}}}};function hr(n,e,t,i,s,r){return d(),g("div",m({class:n.cx("root"),style:[n.sx("root"),r.containerStyle],"aria-hidden":"true"},n.ptmi("root")),null,16)}Nn.render=hr;var fr={root:function(e){var t=e.props;return["p-avatar p-component",{"p-avatar-image":t.image!=null,"p-avatar-circle":t.shape==="circle","p-avatar-lg":t.size==="large","p-avatar-xl":t.size==="xlarge"}]},label:"p-avatar-text",icon:"p-avatar-icon"},pr=ee.extend({name:"avatar",classes:fr}),mr={name:"BaseAvatar",extends:W,props:{label:{type:String,default:null},icon:{type:String,default:null},image:{type:String,default:null},size:{type:String,default:"normal"},shape:{type:String,default:"square"},ariaLabelledby:{type:String,default:null},ariaLabel:{type:String,default:null}},style:pr,provide:function(){return{$parentInstance:this}}},Bt={name:"Avatar",extends:mr,inheritAttrs:!1,emits:["error"],methods:{onError:function(e){this.$emit("error",e)}}},gr=["aria-labelledby","aria-label"],yr=["src","alt"];function br(n,e,t,i,s,r){return d(),g("div",m({class:n.cx("root"),"aria-labelledby":n.ariaLabelledby,"aria-label":n.ariaLabel},n.ptmi("root")),[O(n.$slots,"default",{},function(){return[n.label?(d(),g("span",m({key:0,class:n.cx("label")},n.ptm("label")),L(n.label),17)):n.$slots.icon?(d(),S(ie(n.$slots.icon),{key:1,class:J(n.cx("icon"))},null,8,["class"])):n.icon?(d(),g("span",m({key:2,class:[n.cx("icon"),n.icon]},n.ptm("icon")),null,16)):n.image?(d(),g("img",m({key:3,src:n.image,alt:n.ariaLabel,onError:e[0]||(e[0]=function(){return r.onError&&r.onError.apply(r,arguments)})},n.ptm("image")),null,16,yr)):w("",!0)]})],16,gr)}Bt.render=br;var Fn={name:"WindowMaximizeIcon",extends:It},vr=f("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7 14H11.8C12.3835 14 12.9431 13.7682 13.3556 13.3556C13.7682 12.9431 14 12.3835 14 11.8V2.2C14 1.61652 13.7682 1.05694 13.3556 0.644365C12.9431 0.231785 12.3835 0 11.8 0H2.2C1.61652 0 1.05694 0.231785 0.644365 0.644365C0.231785 1.05694 0 1.61652 0 2.2V7C0 7.15913 0.063214 7.31174 0.175736 7.42426C0.288258 7.53679 0.44087 7.6 0.6 7.6C0.75913 7.6 0.911742 7.53679 1.02426 7.42426C1.13679 7.31174 1.2 7.15913 1.2 7V2.2C1.2 1.93478 1.30536 1.68043 1.49289 1.49289C1.68043 1.30536 1.93478 1.2 2.2 1.2H11.8C12.0652 1.2 12.3196 1.30536 12.5071 1.49289C12.6946 1.68043 12.8 1.93478 12.8 2.2V11.8C12.8 12.0652 12.6946 12.3196 12.5071 12.5071C12.3196 12.6946 12.0652 12.8 11.8 12.8H7C6.84087 12.8 6.68826 12.8632 6.57574 12.9757C6.46321 13.0883 6.4 13.2409 6.4 13.4C6.4 13.5591 6.46321 13.7117 6.57574 13.8243C6.68826 13.9368 6.84087 14 7 14ZM9.77805 7.42192C9.89013 7.534 10.0415 7.59788 10.2 7.59995C10.3585 7.59788 10.5099 7.534 10.622 7.42192C10.7341 7.30985 10.798 7.15844 10.8 6.99995V3.94242C10.8066 3.90505 10.8096 3.86689 10.8089 3.82843C10.8079 3.77159 10.7988 3.7157 10.7824 3.6623C10.756 3.55552 10.701 3.45698 10.622 3.37798C10.5099 3.2659 10.3585 3.20202 10.2 3.19995H7.00002C6.84089 3.19995 6.68828 3.26317 6.57576 3.37569C6.46324 3.48821 6.40002 3.64082 6.40002 3.79995C6.40002 3.95908 6.46324 4.11169 6.57576 4.22422C6.68828 4.33674 6.84089 4.39995 7.00002 4.39995H8.80006L6.19997 7.00005C6.10158 7.11005 6.04718 7.25246 6.04718 7.40005C6.04718 7.54763 6.10158 7.69004 6.19997 7.80005C6.30202 7.91645 6.44561 7.98824 6.59997 8.00005C6.75432 7.98824 6.89791 7.91645 6.99997 7.80005L9.60002 5.26841V6.99995C9.6021 7.15844 9.66598 7.30985 9.77805 7.42192ZM1.4 14H3.8C4.17066 13.9979 4.52553 13.8498 4.78763 13.5877C5.04973 13.3256 5.1979 12.9707 5.2 12.6V10.2C5.1979 9.82939 5.04973 9.47452 4.78763 9.21242C4.52553 8.95032 4.17066 8.80215 3.8 8.80005H1.4C1.02934 8.80215 0.674468 8.95032 0.412371 9.21242C0.150274 9.47452 0.00210008 9.82939 0 10.2V12.6C0.00210008 12.9707 0.150274 13.3256 0.412371 13.5877C0.674468 13.8498 1.02934 13.9979 1.4 14ZM1.25858 10.0586C1.29609 10.0211 1.34696 10 1.4 10H3.8C3.85304 10 3.90391 10.0211 3.94142 10.0586C3.97893 10.0961 4 10.147 4 10.2V12.6C4 12.6531 3.97893 12.704 3.94142 12.7415C3.90391 12.779 3.85304 12.8 3.8 12.8H1.4C1.34696 12.8 1.29609 12.779 1.25858 12.7415C1.22107 12.704 1.2 12.6531 1.2 12.6V10.2C1.2 10.147 1.22107 10.0961 1.25858 10.0586Z",fill:"currentColor"},null,-1),kr=[vr];function wr(n,e,t,i,s,r){return d(),g("svg",m({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.pti()),kr,16)}Fn.render=wr;var Vn={name:"WindowMinimizeIcon",extends:It},Ir=f("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M11.8 0H2.2C1.61652 0 1.05694 0.231785 0.644365 0.644365C0.231785 1.05694 0 1.61652 0 2.2V7C0 7.15913 0.063214 7.31174 0.175736 7.42426C0.288258 7.53679 0.44087 7.6 0.6 7.6C0.75913 7.6 0.911742 7.53679 1.02426 7.42426C1.13679 7.31174 1.2 7.15913 1.2 7V2.2C1.2 1.93478 1.30536 1.68043 1.49289 1.49289C1.68043 1.30536 1.93478 1.2 2.2 1.2H11.8C12.0652 1.2 12.3196 1.30536 12.5071 1.49289C12.6946 1.68043 12.8 1.93478 12.8 2.2V11.8C12.8 12.0652 12.6946 12.3196 12.5071 12.5071C12.3196 12.6946 12.0652 12.8 11.8 12.8H7C6.84087 12.8 6.68826 12.8632 6.57574 12.9757C6.46321 13.0883 6.4 13.2409 6.4 13.4C6.4 13.5591 6.46321 13.7117 6.57574 13.8243C6.68826 13.9368 6.84087 14 7 14H11.8C12.3835 14 12.9431 13.7682 13.3556 13.3556C13.7682 12.9431 14 12.3835 14 11.8V2.2C14 1.61652 13.7682 1.05694 13.3556 0.644365C12.9431 0.231785 12.3835 0 11.8 0ZM6.368 7.952C6.44137 7.98326 6.52025 7.99958 6.6 8H9.8C9.95913 8 10.1117 7.93678 10.2243 7.82426C10.3368 7.71174 10.4 7.55913 10.4 7.4C10.4 7.24087 10.3368 7.08826 10.2243 6.97574C10.1117 6.86321 9.95913 6.8 9.8 6.8H8.048L10.624 4.224C10.73 4.11026 10.7877 3.95982 10.7849 3.80438C10.7822 3.64894 10.7192 3.50063 10.6093 3.3907C10.4994 3.28077 10.3511 3.2178 10.1956 3.21506C10.0402 3.21232 9.88974 3.27002 9.776 3.376L7.2 5.952V4.2C7.2 4.04087 7.13679 3.88826 7.02426 3.77574C6.91174 3.66321 6.75913 3.6 6.6 3.6C6.44087 3.6 6.28826 3.66321 6.17574 3.77574C6.06321 3.88826 6 4.04087 6 4.2V7.4C6.00042 7.47975 6.01674 7.55862 6.048 7.632C6.07656 7.70442 6.11971 7.7702 6.17475 7.82524C6.2298 7.88029 6.29558 7.92344 6.368 7.952ZM1.4 8.80005H3.8C4.17066 8.80215 4.52553 8.95032 4.78763 9.21242C5.04973 9.47452 5.1979 9.82939 5.2 10.2V12.6C5.1979 12.9707 5.04973 13.3256 4.78763 13.5877C4.52553 13.8498 4.17066 13.9979 3.8 14H1.4C1.02934 13.9979 0.674468 13.8498 0.412371 13.5877C0.150274 13.3256 0.00210008 12.9707 0 12.6V10.2C0.00210008 9.82939 0.150274 9.47452 0.412371 9.21242C0.674468 8.95032 1.02934 8.80215 1.4 8.80005ZM3.94142 12.7415C3.97893 12.704 4 12.6531 4 12.6V10.2C4 10.147 3.97893 10.0961 3.94142 10.0586C3.90391 10.0211 3.85304 10 3.8 10H1.4C1.34696 10 1.29609 10.0211 1.25858 10.0586C1.22107 10.0961 1.2 10.147 1.2 10.2V12.6C1.2 12.6531 1.22107 12.704 1.25858 12.7415C1.29609 12.779 1.34696 12.8 1.4 12.8H3.8C3.85304 12.8 3.90391 12.779 3.94142 12.7415Z",fill:"currentColor"},null,-1),_r=[Ir];function xr(n,e,t,i,s,r){return d(),g("svg",m({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.pti()),_r,16)}Vn.render=xr;var Cr={mask:function(e){var t=e.position,i=e.modal;return{position:"fixed",height:"100%",width:"100%",left:0,top:0,display:"flex",justifyContent:t==="left"||t==="topleft"||t==="bottomleft"?"flex-start":t==="right"||t==="topright"||t==="bottomright"?"flex-end":"center",alignItems:t==="top"||t==="topleft"||t==="topright"?"flex-start":t==="bottom"||t==="bottomleft"||t==="bottomright"?"flex-end":"center",pointerEvents:i?"auto":"none"}},root:{display:"flex",flexDirection:"column",pointerEvents:"auto"}},Sr={mask:function(e){var t=e.props,i=["left","right","top","topleft","topright","bottom","bottomleft","bottomright"],s=i.find(function(r){return r===t.position});return["p-dialog-mask",{"p-component-overlay p-component-overlay-enter":t.modal},s?"p-dialog-".concat(s):""]},root:function(e){var t=e.props,i=e.instance;return["p-dialog p-component",{"p-dialog-rtl":t.rtl,"p-dialog-maximized":t.maximizable&&i.maximized,"p-ripple-disabled":i.$primevue.config.ripple===!1}]},header:"p-dialog-header",title:"p-dialog-title",icons:"p-dialog-header-icons",maximizableButton:"p-dialog-header-icon p-dialog-header-maximize p-link",maximizableIcon:"p-dialog-header-maximize-icon",closeButton:"p-dialog-header-icon p-dialog-header-close p-link",closeButtonIcon:"p-dialog-header-close-icon",content:"p-dialog-content",footer:"p-dialog-footer"},Lr=ee.extend({name:"dialog",classes:Sr,inlineStyles:Cr}),Er={name:"BaseDialog",extends:W,props:{header:{type:null,default:null},footer:{type:null,default:null},visible:{type:Boolean,default:!1},modal:{type:Boolean,default:null},contentStyle:{type:null,default:null},contentClass:{type:String,default:null},contentProps:{type:null,default:null},rtl:{type:Boolean,default:null},maximizable:{type:Boolean,default:!1},dismissableMask:{type:Boolean,default:!1},closable:{type:Boolean,default:!0},closeOnEscape:{type:Boolean,default:!0},showHeader:{type:Boolean,default:!0},blockScroll:{type:Boolean,default:!1},baseZIndex:{type:Number,default:0},autoZIndex:{type:Boolean,default:!0},position:{type:String,default:"center"},breakpoints:{type:Object,default:null},draggable:{type:Boolean,default:!0},keepInViewport:{type:Boolean,default:!0},minX:{type:Number,default:0},minY:{type:Number,default:0},appendTo:{type:[String,Object],default:"body"},closeIcon:{type:String,default:void 0},maximizeIcon:{type:String,default:void 0},minimizeIcon:{type:String,default:void 0},closeButtonProps:{type:null,default:null},_instance:null},style:Lr,provide:function(){return{$parentInstance:this}}},Hn={name:"Dialog",extends:Er,inheritAttrs:!1,emits:["update:visible","show","hide","after-hide","maximize","unmaximize","dragend"],provide:function(){var e=this;return{dialogRef:xt(function(){return e._instance})}},data:function(){return{id:this.$attrs.id,containerVisible:this.visible,maximized:!1,focusableMax:null,focusableClose:null}},watch:{"$attrs.id":function(e){this.id=e||ue()}},documentKeydownListener:null,container:null,mask:null,content:null,headerContainer:null,footerContainer:null,maximizableButton:null,closeButton:null,styleElement:null,dragging:null,documentDragListener:null,documentDragEndListener:null,lastPageX:null,lastPageY:null,updated:function(){this.visible&&(this.containerVisible=this.visible)},beforeUnmount:function(){this.unbindDocumentState(),this.unbindGlobalListeners(),this.destroyStyle(),this.mask&&this.autoZIndex&&X.clear(this.mask),this.container=null,this.mask=null},mounted:function(){this.id=this.id||ue(),this.breakpoints&&this.createStyle()},methods:{close:function(){this.$emit("update:visible",!1)},onBeforeEnter:function(e){e.setAttribute(this.attributeSelector,"")},onEnter:function(){this.$emit("show"),this.focus(),this.enableDocumentSettings(),this.bindGlobalListeners(),this.autoZIndex&&X.set("modal",this.mask,this.baseZIndex+this.$primevue.config.zIndex.modal)},onBeforeLeave:function(){this.modal&&!this.isUnstyled&&I.addClass(this.mask,"p-component-overlay-leave")},onLeave:function(){this.$emit("hide"),this.focusableClose=null,this.focusableMax=null},onAfterLeave:function(){this.autoZIndex&&X.clear(this.mask),this.containerVisible=!1,this.unbindDocumentState(),this.unbindGlobalListeners(),this.$emit("after-hide")},onMaskClick:function(e){this.dismissableMask&&this.modal&&this.mask===e.target&&this.close()},focus:function(){var e=function(s){return s&&s.querySelector("[autofocus]")},t=this.$slots.footer&&e(this.footerContainer);t||(t=this.$slots.header&&e(this.headerContainer),t||(t=this.$slots.default&&e(this.content),t||(this.maximizable?(this.focusableMax=!0,t=this.maximizableButton):(this.focusableClose=!0,t=this.closeButton)))),t&&I.focus(t,{focusVisible:!0})},maximize:function(e){this.maximized?(this.maximized=!1,this.$emit("unmaximize",e)):(this.maximized=!0,this.$emit("maximize",e)),this.modal||(this.maximized?I.blockBodyScroll():I.unblockBodyScroll())},enableDocumentSettings:function(){(this.modal||!this.modal&&this.blockScroll||this.maximizable&&this.maximized)&&I.blockBodyScroll()},unbindDocumentState:function(){(this.modal||!this.modal&&this.blockScroll||this.maximizable&&this.maximized)&&I.unblockBodyScroll()},onKeyDown:function(e){e.code==="Escape"&&this.closeOnEscape&&this.close()},bindDocumentKeyDownListener:function(){this.documentKeydownListener||(this.documentKeydownListener=this.onKeyDown.bind(this),window.document.addEventListener("keydown",this.documentKeydownListener))},unbindDocumentKeyDownListener:function(){this.documentKeydownListener&&(window.document.removeEventListener("keydown",this.documentKeydownListener),this.documentKeydownListener=null)},containerRef:function(e){this.container=e},maskRef:function(e){this.mask=e},contentRef:function(e){this.content=e},headerContainerRef:function(e){this.headerContainer=e},footerContainerRef:function(e){this.footerContainer=e},maximizableRef:function(e){this.maximizableButton=e},closeButtonRef:function(e){this.closeButton=e},createStyle:function(){if(!this.styleElement&&!this.isUnstyled){var e;this.styleElement=document.createElement("style"),this.styleElement.type="text/css",I.setAttribute(this.styleElement,"nonce",(e=this.$primevue)===null||e===void 0||(e=e.config)===null||e===void 0||(e=e.csp)===null||e===void 0?void 0:e.nonce),document.head.appendChild(this.styleElement);var t="";for(var i in this.breakpoints)t+=`
                        @media screen and (max-width: `.concat(i,`) {
                            .p-dialog[`).concat(this.attributeSelector,`] {
                                width: `).concat(this.breakpoints[i],` !important;
                            }
                        }
                    `);this.styleElement.innerHTML=t}},destroyStyle:function(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)},initDrag:function(e){e.target.closest("div").getAttribute("data-pc-section")!=="icons"&&this.draggable&&(this.dragging=!0,this.lastPageX=e.pageX,this.lastPageY=e.pageY,this.container.style.margin="0",document.body.setAttribute("data-p-unselectable-text","true"),!this.isUnstyled&&I.addClass(document.body,"p-unselectable-text"))},bindGlobalListeners:function(){this.draggable&&(this.bindDocumentDragListener(),this.bindDocumentDragEndListener()),this.closeOnEscape&&this.closable&&this.bindDocumentKeyDownListener()},unbindGlobalListeners:function(){this.unbindDocumentDragListener(),this.unbindDocumentDragEndListener(),this.unbindDocumentKeyDownListener()},bindDocumentDragListener:function(){var e=this;this.documentDragListener=function(t){if(e.dragging){var i=I.getOuterWidth(e.container),s=I.getOuterHeight(e.container),r=t.pageX-e.lastPageX,o=t.pageY-e.lastPageY,a=e.container.getBoundingClientRect(),l=a.left+r,c=a.top+o,u=I.getViewport(),p=getComputedStyle(e.container),y=parseFloat(p.marginLeft),b=parseFloat(p.marginTop);e.container.style.position="fixed",e.keepInViewport?(l>=e.minX&&l+i<u.width&&(e.lastPageX=t.pageX,e.container.style.left=l-y+"px"),c>=e.minY&&c+s<u.height&&(e.lastPageY=t.pageY,e.container.style.top=c-b+"px")):(e.lastPageX=t.pageX,e.container.style.left=l-y+"px",e.lastPageY=t.pageY,e.container.style.top=c-b+"px")}},window.document.addEventListener("mousemove",this.documentDragListener)},unbindDocumentDragListener:function(){this.documentDragListener&&(window.document.removeEventListener("mousemove",this.documentDragListener),this.documentDragListener=null)},bindDocumentDragEndListener:function(){var e=this;this.documentDragEndListener=function(t){e.dragging&&(e.dragging=!1,document.body.removeAttribute("data-p-unselectable-text"),!e.isUnstyled&&I.removeClass(document.body,"p-unselectable-text"),e.$emit("dragend",t))},window.document.addEventListener("mouseup",this.documentDragEndListener)},unbindDocumentDragEndListener:function(){this.documentDragEndListener&&(window.document.removeEventListener("mouseup",this.documentDragEndListener),this.documentDragEndListener=null)}},computed:{maximizeIconComponent:function(){return this.maximized?this.minimizeIcon?"span":"WindowMinimizeIcon":this.maximizeIcon?"span":"WindowMaximizeIcon"},ariaLabelledById:function(){return this.header!=null||this.$attrs["aria-labelledby"]!==null?this.id+"_header":null},closeAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.close:void 0},attributeSelector:function(){return ue()}},directives:{ripple:Me,focustrap:Tt},components:{Portal:ot,WindowMinimizeIcon:Vn,WindowMaximizeIcon:Fn,TimesIcon:_t}};function De(n){"@babel/helpers - typeof";return De=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},De(n)}function cn(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,i)}return t}function Ze(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?cn(Object(t),!0).forEach(function(i){Ar(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):cn(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Ar(n,e,t){return e=Tr(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Tr(n){var e=Br(n,"string");return De(e)=="symbol"?e:String(e)}function Br(n,e){if(De(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(De(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var Rr=["aria-labelledby","aria-modal"],Or=["id"],$r=["autofocus","tabindex"],Pr=["autofocus","aria-label"];function zr(n,e,t,i,s,r){var o=Q("Portal"),a=fe("ripple"),l=fe("focustrap");return d(),S(o,{appendTo:n.appendTo},{default:k(function(){return[s.containerVisible?(d(),g("div",m({key:0,ref:r.maskRef,class:n.cx("mask"),style:n.sx("mask",!0,{position:n.position,modal:n.modal}),onClick:e[3]||(e[3]=function(){return r.onMaskClick&&r.onMaskClick.apply(r,arguments)})},n.ptm("mask")),[v(be,m({name:"p-dialog",onBeforeEnter:r.onBeforeEnter,onEnter:r.onEnter,onBeforeLeave:r.onBeforeLeave,onLeave:r.onLeave,onAfterLeave:r.onAfterLeave,appear:""},n.ptm("transition")),{default:k(function(){return[n.visible?K((d(),g("div",m({key:0,ref:r.containerRef,class:n.cx("root"),style:n.sx("root"),role:"dialog","aria-labelledby":r.ariaLabelledById,"aria-modal":n.modal},n.ptmi("root")),[n.$slots.container?O(n.$slots,"container",{key:0,onClose:r.close,onMaximize:function(u){return r.maximize(u)},closeCallback:r.close,maximizeCallback:function(u){return r.maximize(u)}}):(d(),g(ae,{key:1},[n.showHeader?(d(),g("div",m({key:0,ref:r.headerContainerRef,class:n.cx("header"),onMousedown:e[2]||(e[2]=function(){return r.initDrag&&r.initDrag.apply(r,arguments)})},n.ptm("header")),[O(n.$slots,"header",{class:J(n.cx("title"))},function(){return[n.header?(d(),g("span",m({key:0,id:r.ariaLabelledById,class:n.cx("title")},n.ptm("title")),L(n.header),17,Or)):w("",!0)]}),f("div",m({class:n.cx("icons")},n.ptm("icons")),[n.maximizable?K((d(),g("button",m({key:0,ref:r.maximizableRef,autofocus:s.focusableMax,class:n.cx("maximizableButton"),onClick:e[0]||(e[0]=function(){return r.maximize&&r.maximize.apply(r,arguments)}),type:"button",tabindex:n.maximizable?"0":"-1"},n.ptm("maximizableButton"),{"data-pc-group-section":"headericon"}),[O(n.$slots,"maximizeicon",{maximized:s.maximized,class:J(n.cx("maximizableIcon"))},function(){return[(d(),S(ie(r.maximizeIconComponent),m({class:[n.cx("maximizableIcon"),s.maximized?n.minimizeIcon:n.maximizeIcon]},n.ptm("maximizableIcon")),null,16,["class"]))]})],16,$r)),[[a]]):w("",!0),n.closable?K((d(),g("button",m({key:1,ref:r.closeButtonRef,autofocus:s.focusableClose,class:n.cx("closeButton"),onClick:e[1]||(e[1]=function(){return r.close&&r.close.apply(r,arguments)}),"aria-label":r.closeAriaLabel,type:"button"},Ze(Ze({},n.closeButtonProps),n.ptm("closeButton")),{"data-pc-group-section":"headericon"}),[O(n.$slots,"closeicon",{class:J(n.cx("closeButtonIcon"))},function(){return[(d(),S(ie(n.closeIcon?"span":"TimesIcon"),m({class:[n.cx("closeButtonIcon"),n.closeIcon]},n.ptm("closeButtonIcon")),null,16,["class"]))]})],16,Pr)),[[a]]):w("",!0)],16)],16)):w("",!0),f("div",m({ref:r.contentRef,class:[n.cx("content"),n.contentClass],style:n.contentStyle},Ze(Ze({},n.contentProps),n.ptm("content"))),[O(n.$slots,"default")],16),n.footer||n.$slots.footer?(d(),g("div",m({key:1,ref:r.footerContainerRef,class:n.cx("footer")},n.ptm("footer")),[O(n.$slots,"footer",{},function(){return[$e(L(n.footer),1)]})],16)):w("",!0)],64))],16,Rr)),[[l,{disabled:!n.modal}]]):w("",!0)]}),_:3},16,["onBeforeEnter","onEnter","onBeforeLeave","onLeave","onAfterLeave"])],16)):w("",!0)]}),_:3},8,["appendTo"])}Hn.render=zr;var Dr={root:function(e){var t=e.instance;return["p-progressbar p-component",{"p-progressbar-determinate":t.determinate,"p-progressbar-indeterminate":t.indeterminate}]},container:"p-progressbar-indeterminate-container",value:"p-progressbar-value p-progressbar-value-animate",label:"p-progressbar-label"},Mr=ee.extend({name:"progressbar",classes:Dr}),Kr={name:"BaseProgressBar",extends:W,props:{value:{type:Number,default:null},mode:{type:String,default:"determinate"},showValue:{type:Boolean,default:!0}},style:Mr,provide:function(){return{$parentInstance:this}}},Rt={name:"ProgressBar",extends:Kr,inheritAttrs:!1,computed:{progressStyle:function(){return{width:this.value+"%",display:"flex"}},indeterminate:function(){return this.mode==="indeterminate"},determinate:function(){return this.mode==="determinate"}}},Nr=["aria-valuenow"];function Fr(n,e,t,i,s,r){return d(),g("div",m({role:"progressbar",class:n.cx("root"),"aria-valuemin":"0","aria-valuenow":n.value,"aria-valuemax":"100"},n.ptmi("root")),[r.determinate?(d(),g("div",m({key:0,class:n.cx("value"),style:r.progressStyle},n.ptm("value")),[n.value!=null&&n.value!==0&&n.showValue?(d(),g("div",m({key:0,class:n.cx("label")},n.ptm("label")),[O(n.$slots,"default",{},function(){return[$e(L(n.value+"%"),1)]})],16)):w("",!0)],16)):w("",!0),r.indeterminate?(d(),g("div",m({key:1,class:n.cx("container")},n.ptm("container")),[f("div",m({class:n.cx("value")},n.ptm("value")),null,16)],16)):w("",!0)],16,Nr)}Rt.render=Fr;const un="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20version='1.1'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='512'%20height='512'%20x='0'%20y='0'%20viewBox='0%200%20512%20512'%20style='enable-background:new%200%200%20512%20512'%20xml:space='preserve'%20class=''%3e%3cg%3e%3ccircle%20cx='256'%20cy='128'%20r='128'%20fill='%23808080'%20opacity='1'%20data-original='%23808080'%20class=''%3e%3c/circle%3e%3cpath%20d='M256%20298.667c-105.99.118-191.882%2086.01-192%20192C64%20502.449%2073.551%20512%2085.333%20512h341.333c11.782%200%2021.333-9.551%2021.333-21.333-.117-105.99-86.009-191.883-191.999-192z'%20fill='%23808080'%20opacity='1'%20data-original='%23808080'%20class=''%3e%3c/path%3e%3c/g%3e%3c/svg%3e";async function Vr(n){try{const e=await fetch("/kenai/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!e.ok)throw new Error(e.statusText);const t=await e.json();if(t.success)return t.data;throw new Error(t.error.message)}catch(e){throw new Error(e.message)}}function Ot(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let ve=Ot();function qn(n){ve=n}const Un=/[&<>"']/,Hr=new RegExp(Un.source,"g"),jn=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,qr=new RegExp(jn.source,"g"),Ur={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},dn=n=>Ur[n];function Z(n,e){if(e){if(Un.test(n))return n.replace(Hr,dn)}else if(jn.test(n))return n.replace(qr,dn);return n}const jr=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function Zr(n){return n.replace(jr,(e,t)=>(t=t.toLowerCase(),t==="colon"?":":t.charAt(0)==="#"?t.charAt(1)==="x"?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}const Wr=/(^|[^\[])\^/g;function P(n,e){let t=typeof n=="string"?n:n.source;e=e||"";const i={replace:(s,r)=>{let o=typeof r=="string"?r:r.source;return o=o.replace(Wr,"$1"),t=t.replace(s,o),i},getRegex:()=>new RegExp(t,e)};return i}function hn(n){try{n=encodeURI(n).replace(/%25/g,"%")}catch{return null}return n}const Re={exec:()=>null};function fn(n,e){const t=n.replace(/\|/g,(r,o,a)=>{let l=!1,c=o;for(;--c>=0&&a[c]==="\\";)l=!l;return l?"|":" |"}),i=t.split(/ \|/);let s=0;if(i[0].trim()||i.shift(),i.length>0&&!i[i.length-1].trim()&&i.pop(),e)if(i.length>e)i.splice(e);else for(;i.length<e;)i.push("");for(;s<i.length;s++)i[s]=i[s].trim().replace(/\\\|/g,"|");return i}function Le(n,e,t){const i=n.length;if(i===0)return"";let s=0;for(;s<i;){const r=n.charAt(i-s-1);if(r===e&&!t)s++;else if(r!==e&&t)s++;else break}return n.slice(0,i-s)}function Gr(n,e){if(n.indexOf(e[1])===-1)return-1;let t=0;for(let i=0;i<n.length;i++)if(n[i]==="\\")i++;else if(n[i]===e[0])t++;else if(n[i]===e[1]&&(t--,t<0))return i;return-1}function pn(n,e,t,i){const s=e.href,r=e.title?Z(e.title):null,o=n[1].replace(/\\([\[\]])/g,"$1");if(n[0].charAt(0)!=="!"){i.state.inLink=!0;const a={type:"link",raw:t,href:s,title:r,text:o,tokens:i.inlineTokens(o)};return i.state.inLink=!1,a}return{type:"image",raw:t,href:s,title:r,text:Z(o)}}function Yr(n,e){const t=n.match(/^(\s+)(?:```)/);if(t===null)return e;const i=t[1];return e.split(`
`).map(s=>{const r=s.match(/^\s+/);if(r===null)return s;const[o]=r;return o.length>=i.length?s.slice(i.length):s}).join(`
`)}class it{constructor(e){z(this,"options");z(this,"rules");z(this,"lexer");this.options=e||ve}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const i=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?i:Le(i,`
`)}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const i=t[0],s=Yr(i,t[3]||"");return{type:"code",raw:i,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:s}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let i=t[2].trim();if(/#$/.test(i)){const s=Le(i,"#");(this.options.pedantic||!s||/ $/.test(s))&&(i=s.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:i,tokens:this.lexer.inline(i)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:Le(t[0],`
`)}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){let i=Le(t[0],`
`).split(`
`),s="",r="";const o=[];for(;i.length>0;){let a=!1;const l=[];let c;for(c=0;c<i.length;c++)if(/^ {0,3}>/.test(i[c]))l.push(i[c]),a=!0;else if(!a)l.push(i[c]);else break;i=i.slice(c);const u=l.join(`
`),p=u.replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,`
    $1`).replace(/^ {0,3}>[ \t]?/gm,"");s=s?`${s}
${u}`:u,r=r?`${r}
${p}`:p;const y=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(p,o,!0),this.lexer.state.top=y,i.length===0)break;const b=o[o.length-1];if((b==null?void 0:b.type)==="code")break;if((b==null?void 0:b.type)==="blockquote"){const T=b,A=T.raw+`
`+i.join(`
`),B=this.blockquote(A);o[o.length-1]=B,s=s.substring(0,s.length-T.raw.length)+B.raw,r=r.substring(0,r.length-T.text.length)+B.text;break}else if((b==null?void 0:b.type)==="list"){const T=b,A=T.raw+`
`+i.join(`
`),B=this.list(A);o[o.length-1]=B,s=s.substring(0,s.length-b.raw.length)+B.raw,r=r.substring(0,r.length-T.raw.length)+B.raw,i=A.substring(o[o.length-1].raw.length).split(`
`);continue}}return{type:"blockquote",raw:s,tokens:o,text:r}}}list(e){let t=this.rules.block.list.exec(e);if(t){let i=t[1].trim();const s=i.length>1,r={type:"list",raw:"",ordered:s,start:s?+i.slice(0,-1):"",loose:!1,items:[]};i=s?`\\d{1,9}\\${i.slice(-1)}`:`\\${i}`,this.options.pedantic&&(i=s?i:"[*+-]");const o=new RegExp(`^( {0,3}${i})((?:[	 ][^\\n]*)?(?:\\n|$))`);let a="",l="",c=!1;for(;e;){let u=!1;if(!(t=o.exec(e))||this.rules.block.hr.test(e))break;a=t[0],e=e.substring(a.length);let p=t[2].split(`
`,1)[0].replace(/^\t+/,F=>" ".repeat(3*F.length)),y=e.split(`
`,1)[0],b=0;this.options.pedantic?(b=2,l=p.trimStart()):(b=t[2].search(/[^ ]/),b=b>4?1:b,l=p.slice(b),b+=t[1].length);let T=!1;if(!p&&/^ *$/.test(y)&&(a+=y+`
`,e=e.substring(y.length+1),u=!0),!u){const F=new RegExp(`^ {0,${Math.min(3,b-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),se=new RegExp(`^ {0,${Math.min(3,b-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),_=new RegExp(`^ {0,${Math.min(3,b-1)}}(?:\`\`\`|~~~)`),Ie=new RegExp(`^ {0,${Math.min(3,b-1)}}#`);for(;e;){const re=e.split(`
`,1)[0];if(y=re,this.options.pedantic&&(y=y.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),_.test(y)||Ie.test(y)||F.test(y)||se.test(e))break;if(y.search(/[^ ]/)>=b||!y.trim())l+=`
`+y.slice(b);else{if(T||p.search(/[^ ]/)>=4||_.test(p)||Ie.test(p)||se.test(p))break;l+=`
`+y}!T&&!y.trim()&&(T=!0),a+=re+`
`,e=e.substring(re.length+1),p=y.slice(b)}}r.loose||(c?r.loose=!0:/\n *\n *$/.test(a)&&(c=!0));let A=null,B;this.options.gfm&&(A=/^\[[ xX]\] /.exec(l),A&&(B=A[0]!=="[ ] ",l=l.replace(/^\[[ xX]\] +/,""))),r.items.push({type:"list_item",raw:a,task:!!A,checked:B,loose:!1,text:l,tokens:[]}),r.raw+=a}r.items[r.items.length-1].raw=a.trimEnd(),r.items[r.items.length-1].text=l.trimEnd(),r.raw=r.raw.trimEnd();for(let u=0;u<r.items.length;u++)if(this.lexer.state.top=!1,r.items[u].tokens=this.lexer.blockTokens(r.items[u].text,[]),!r.loose){const p=r.items[u].tokens.filter(b=>b.type==="space"),y=p.length>0&&p.some(b=>/\n.*\n/.test(b.raw));r.loose=y}if(r.loose)for(let u=0;u<r.items.length;u++)r.items[u].loose=!0;return r}}html(e){const t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]}}def(e){const t=this.rules.block.def.exec(e);if(t){const i=t[1].toLowerCase().replace(/\s+/g," "),s=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",r=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:i,raw:t[0],href:s,title:r}}}table(e){const t=this.rules.block.table.exec(e);if(!t||!/[:|]/.test(t[2]))return;const i=fn(t[1]),s=t[2].replace(/^\||\| *$/g,"").split("|"),r=t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split(`
`):[],o={type:"table",raw:t[0],header:[],align:[],rows:[]};if(i.length===s.length){for(const a of s)/^ *-+: *$/.test(a)?o.align.push("right"):/^ *:-+: *$/.test(a)?o.align.push("center"):/^ *:-+ *$/.test(a)?o.align.push("left"):o.align.push(null);for(let a=0;a<i.length;a++)o.header.push({text:i[a],tokens:this.lexer.inline(i[a]),header:!0,align:o.align[a]});for(const a of r)o.rows.push(fn(a,o.header.length).map((l,c)=>({text:l,tokens:this.lexer.inline(l),header:!1,align:o.align[c]})));return o}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const i=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:i,tokens:this.lexer.inline(i)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:Z(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const i=t[2].trim();if(!this.options.pedantic&&/^</.test(i)){if(!/>$/.test(i))return;const o=Le(i.slice(0,-1),"\\");if((i.length-o.length)%2===0)return}else{const o=Gr(t[2],"()");if(o>-1){const l=(t[0].indexOf("!")===0?5:4)+t[1].length+o;t[2]=t[2].substring(0,o),t[0]=t[0].substring(0,l).trim(),t[3]=""}}let s=t[2],r="";if(this.options.pedantic){const o=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(s);o&&(s=o[1],r=o[3])}else r=t[3]?t[3].slice(1,-1):"";return s=s.trim(),/^</.test(s)&&(this.options.pedantic&&!/>$/.test(i)?s=s.slice(1):s=s.slice(1,-1)),pn(t,{href:s&&s.replace(this.rules.inline.anyPunctuation,"$1"),title:r&&r.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer)}}reflink(e,t){let i;if((i=this.rules.inline.reflink.exec(e))||(i=this.rules.inline.nolink.exec(e))){const s=(i[2]||i[1]).replace(/\s+/g," "),r=t[s.toLowerCase()];if(!r){const o=i[0].charAt(0);return{type:"text",raw:o,text:o}}return pn(i,r,i[0],this.lexer)}}emStrong(e,t,i=""){let s=this.rules.inline.emStrongLDelim.exec(e);if(!s||s[3]&&i.match(/[\p{L}\p{N}]/u))return;if(!(s[1]||s[2]||"")||!i||this.rules.inline.punctuation.exec(i)){const o=[...s[0]].length-1;let a,l,c=o,u=0;const p=s[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(p.lastIndex=0,t=t.slice(-1*e.length+o);(s=p.exec(t))!=null;){if(a=s[1]||s[2]||s[3]||s[4]||s[5]||s[6],!a)continue;if(l=[...a].length,s[3]||s[4]){c+=l;continue}else if((s[5]||s[6])&&o%3&&!((o+l)%3)){u+=l;continue}if(c-=l,c>0)continue;l=Math.min(l,l+c+u);const y=[...s[0]][0].length,b=e.slice(0,o+s.index+y+l);if(Math.min(o,l)%2){const A=b.slice(1,-1);return{type:"em",raw:b,text:A,tokens:this.lexer.inlineTokens(A)}}const T=b.slice(2,-2);return{type:"strong",raw:b,text:T,tokens:this.lexer.inlineTokens(T)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let i=t[2].replace(/\n/g," ");const s=/[^ ]/.test(i),r=/^ /.test(i)&&/ $/.test(i);return s&&r&&(i=i.substring(1,i.length-1)),i=Z(i,!0),{type:"codespan",raw:t[0],text:i}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){const t=this.rules.inline.autolink.exec(e);if(t){let i,s;return t[2]==="@"?(i=Z(t[1]),s="mailto:"+i):(i=Z(t[1]),s=i),{type:"link",raw:t[0],text:i,href:s,tokens:[{type:"text",raw:i,text:i}]}}}url(e){var i;let t;if(t=this.rules.inline.url.exec(e)){let s,r;if(t[2]==="@")s=Z(t[0]),r="mailto:"+s;else{let o;do o=t[0],t[0]=((i=this.rules.inline._backpedal.exec(t[0]))==null?void 0:i[0])??"";while(o!==t[0]);s=Z(t[0]),t[1]==="www."?r="http://"+t[0]:r=t[0]}return{type:"link",raw:t[0],text:s,href:r,tokens:[{type:"text",raw:s,text:s}]}}}inlineText(e){const t=this.rules.inline.text.exec(e);if(t){let i;return this.lexer.state.inRawBlock?i=t[0]:i=Z(t[0]),{type:"text",raw:t[0],text:i}}}}const Xr=/^(?: *(?:\n|$))+/,Qr=/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,Jr=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Ne=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,eo=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,Zn=/(?:[*+-]|\d{1,9}[.)])/,Wn=P(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,Zn).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),$t=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,to=/^[^\n]+/,Pt=/(?!\s*\])(?:\\.|[^\[\]\\])+/,no=P(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",Pt).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),io=P(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Zn).getRegex(),at="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",zt=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,so=P("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",zt).replace("tag",at).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Gn=P($t).replace("hr",Ne).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",at).getRegex(),ro=P(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Gn).getRegex(),Dt={blockquote:ro,code:Qr,def:no,fences:Jr,heading:eo,hr:Ne,html:so,lheading:Wn,list:io,newline:Xr,paragraph:Gn,table:Re,text:to},mn=P("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Ne).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",at).getRegex(),oo={...Dt,table:mn,paragraph:P($t).replace("hr",Ne).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",mn).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",at).getRegex()},ao={...Dt,html:P(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",zt).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Re,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:P($t).replace("hr",Ne).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Wn).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Yn=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,lo=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,Xn=/^( {2,}|\\)\n(?!\s*$)/,co=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Fe="\\p{P}\\p{S}",uo=P(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,Fe).getRegex(),ho=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,fo=P(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,Fe).getRegex(),po=P("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,Fe).getRegex(),mo=P("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,Fe).getRegex(),go=P(/\\([punct])/,"gu").replace(/punct/g,Fe).getRegex(),yo=P(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),bo=P(zt).replace("(?:-->|$)","-->").getRegex(),vo=P("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",bo).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),st=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,ko=P(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",st).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Qn=P(/^!?\[(label)\]\[(ref)\]/).replace("label",st).replace("ref",Pt).getRegex(),Jn=P(/^!?\[(ref)\](?:\[\])?/).replace("ref",Pt).getRegex(),wo=P("reflink|nolink(?!\\()","g").replace("reflink",Qn).replace("nolink",Jn).getRegex(),Mt={_backpedal:Re,anyPunctuation:go,autolink:yo,blockSkip:ho,br:Xn,code:lo,del:Re,emStrongLDelim:fo,emStrongRDelimAst:po,emStrongRDelimUnd:mo,escape:Yn,link:ko,nolink:Jn,punctuation:uo,reflink:Qn,reflinkSearch:wo,tag:vo,text:co,url:Re},Io={...Mt,link:P(/^!?\[(label)\]\((.*?)\)/).replace("label",st).getRegex(),reflink:P(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",st).getRegex()},pt={...Mt,escape:P(Yn).replace("])","~|])").getRegex(),url:P(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},_o={...pt,br:P(Xn).replace("{2,}","*").getRegex(),text:P(pt.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},We={normal:Dt,gfm:oo,pedantic:ao},Ee={normal:Mt,gfm:pt,breaks:_o,pedantic:Io};class le{constructor(e){z(this,"tokens");z(this,"options");z(this,"state");z(this,"tokenizer");z(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||ve,this.options.tokenizer=this.options.tokenizer||new it,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:We.normal,inline:Ee.normal};this.options.pedantic?(t.block=We.pedantic,t.inline=Ee.pedantic):this.options.gfm&&(t.block=We.gfm,this.options.breaks?t.inline=Ee.breaks:t.inline=Ee.gfm),this.tokenizer.rules=t}static get rules(){return{block:We,inline:Ee}}static lex(e,t){return new le(t).lex(e)}static lexInline(e,t){return new le(t).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){const i=this.inlineQueue[t];this.inlineTokens(i.src,i.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[],i=!1){this.options.pedantic?e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e=e.replace(/^( *)(\t+)/gm,(a,l,c)=>l+"    ".repeat(c.length));let s,r,o;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(a=>(s=a.call({lexer:this},e,t))?(e=e.substring(s.raw.length),t.push(s),!0):!1))){if(s=this.tokenizer.space(e)){e=e.substring(s.raw.length),s.raw.length===1&&t.length>0?t[t.length-1].raw+=`
`:t.push(s);continue}if(s=this.tokenizer.code(e)){e=e.substring(s.raw.length),r=t[t.length-1],r&&(r.type==="paragraph"||r.type==="text")?(r.raw+=`
`+s.raw,r.text+=`
`+s.text,this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(s);continue}if(s=this.tokenizer.fences(e)){e=e.substring(s.raw.length),t.push(s);continue}if(s=this.tokenizer.heading(e)){e=e.substring(s.raw.length),t.push(s);continue}if(s=this.tokenizer.hr(e)){e=e.substring(s.raw.length),t.push(s);continue}if(s=this.tokenizer.blockquote(e)){e=e.substring(s.raw.length),t.push(s);continue}if(s=this.tokenizer.list(e)){e=e.substring(s.raw.length),t.push(s);continue}if(s=this.tokenizer.html(e)){e=e.substring(s.raw.length),t.push(s);continue}if(s=this.tokenizer.def(e)){e=e.substring(s.raw.length),r=t[t.length-1],r&&(r.type==="paragraph"||r.type==="text")?(r.raw+=`
`+s.raw,r.text+=`
`+s.raw,this.inlineQueue[this.inlineQueue.length-1].src=r.text):this.tokens.links[s.tag]||(this.tokens.links[s.tag]={href:s.href,title:s.title});continue}if(s=this.tokenizer.table(e)){e=e.substring(s.raw.length),t.push(s);continue}if(s=this.tokenizer.lheading(e)){e=e.substring(s.raw.length),t.push(s);continue}if(o=e,this.options.extensions&&this.options.extensions.startBlock){let a=1/0;const l=e.slice(1);let c;this.options.extensions.startBlock.forEach(u=>{c=u.call({lexer:this},l),typeof c=="number"&&c>=0&&(a=Math.min(a,c))}),a<1/0&&a>=0&&(o=e.substring(0,a+1))}if(this.state.top&&(s=this.tokenizer.paragraph(o))){r=t[t.length-1],i&&(r==null?void 0:r.type)==="paragraph"?(r.raw+=`
`+s.raw,r.text+=`
`+s.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(s),i=o.length!==e.length,e=e.substring(s.raw.length);continue}if(s=this.tokenizer.text(e)){e=e.substring(s.raw.length),r=t[t.length-1],r&&r.type==="text"?(r.raw+=`
`+s.raw,r.text+=`
`+s.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(s);continue}if(e){const a="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(a);break}else throw new Error(a)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let i,s,r,o=e,a,l,c;if(this.tokens.links){const u=Object.keys(this.tokens.links);if(u.length>0)for(;(a=this.tokenizer.rules.inline.reflinkSearch.exec(o))!=null;)u.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(o=o.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(a=this.tokenizer.rules.inline.blockSkip.exec(o))!=null;)o=o.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(a=this.tokenizer.rules.inline.anyPunctuation.exec(o))!=null;)o=o.slice(0,a.index)+"++"+o.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(l||(c=""),l=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(u=>(i=u.call({lexer:this},e,t))?(e=e.substring(i.raw.length),t.push(i),!0):!1))){if(i=this.tokenizer.escape(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.tag(e)){e=e.substring(i.raw.length),s=t[t.length-1],s&&i.type==="text"&&s.type==="text"?(s.raw+=i.raw,s.text+=i.text):t.push(i);continue}if(i=this.tokenizer.link(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(i.raw.length),s=t[t.length-1],s&&i.type==="text"&&s.type==="text"?(s.raw+=i.raw,s.text+=i.text):t.push(i);continue}if(i=this.tokenizer.emStrong(e,o,c)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.codespan(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.br(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.del(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.autolink(e)){e=e.substring(i.raw.length),t.push(i);continue}if(!this.state.inLink&&(i=this.tokenizer.url(e))){e=e.substring(i.raw.length),t.push(i);continue}if(r=e,this.options.extensions&&this.options.extensions.startInline){let u=1/0;const p=e.slice(1);let y;this.options.extensions.startInline.forEach(b=>{y=b.call({lexer:this},p),typeof y=="number"&&y>=0&&(u=Math.min(u,y))}),u<1/0&&u>=0&&(r=e.substring(0,u+1))}if(i=this.tokenizer.inlineText(r)){e=e.substring(i.raw.length),i.raw.slice(-1)!=="_"&&(c=i.raw.slice(-1)),l=!0,s=t[t.length-1],s&&s.type==="text"?(s.raw+=i.raw,s.text+=i.text):t.push(i);continue}if(e){const u="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(u);break}else throw new Error(u)}}return t}}class rt{constructor(e){z(this,"options");z(this,"parser");this.options=e||ve}space(e){return""}code({text:e,lang:t,escaped:i}){var o;const s=(o=(t||"").match(/^\S*/))==null?void 0:o[0],r=e.replace(/\n$/,"")+`
`;return s?'<pre><code class="language-'+Z(s)+'">'+(i?r:Z(r,!0))+`</code></pre>
`:"<pre><code>"+(i?r:Z(r,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>
`}hr(e){return`<hr>
`}list(e){const t=e.ordered,i=e.start;let s="";for(let a=0;a<e.items.length;a++){const l=e.items[a];s+=this.listitem(l)}const r=t?"ol":"ul",o=t&&i!==1?' start="'+i+'"':"";return"<"+r+o+`>
`+s+"</"+r+`>
`}listitem(e){let t="";if(e.task){const i=this.checkbox({checked:!!e.checked});e.loose?e.tokens.length>0&&e.tokens[0].type==="paragraph"?(e.tokens[0].text=i+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=i+" "+e.tokens[0].tokens[0].text)):e.tokens.unshift({type:"text",raw:i+" ",text:i+" "}):t+=i+" "}return t+=this.parser.parse(e.tokens,!!e.loose),`<li>${t}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let t="",i="";for(let r=0;r<e.header.length;r++)i+=this.tablecell(e.header[r]);t+=this.tablerow({text:i});let s="";for(let r=0;r<e.rows.length;r++){const o=e.rows[r];i="";for(let a=0;a<o.length;a++)i+=this.tablecell(o[a]);s+=this.tablerow({text:i})}return s&&(s=`<tbody>${s}</tbody>`),`<table>
<thead>
`+t+`</thead>
`+s+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){const t=this.parser.parseInline(e.tokens),i=e.header?"th":"td";return(e.align?`<${i} align="${e.align}">`:`<${i}>`)+t+`</${i}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${e}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:i}){const s=this.parser.parseInline(i),r=hn(e);if(r===null)return s;e=r;let o='<a href="'+e+'"';return t&&(o+=' title="'+t+'"'),o+=">"+s+"</a>",o}image({href:e,title:t,text:i}){const s=hn(e);if(s===null)return i;e=s;let r=`<img src="${e}" alt="${i}"`;return t&&(r+=` title="${t}"`),r+=">",r}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):e.text}}class Kt{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}}class ce{constructor(e){z(this,"options");z(this,"renderer");z(this,"textRenderer");this.options=e||ve,this.options.renderer=this.options.renderer||new rt,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Kt}static parse(e,t){return new ce(t).parse(e)}static parseInline(e,t){return new ce(t).parseInline(e)}parse(e,t=!0){let i="";for(let s=0;s<e.length;s++){const r=e[s];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[r.type]){const a=r,l=this.options.extensions.renderers[a.type].call({parser:this},a);if(l!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(a.type)){i+=l||"";continue}}const o=r;switch(o.type){case"space":{i+=this.renderer.space(o);continue}case"hr":{i+=this.renderer.hr(o);continue}case"heading":{i+=this.renderer.heading(o);continue}case"code":{i+=this.renderer.code(o);continue}case"table":{i+=this.renderer.table(o);continue}case"blockquote":{i+=this.renderer.blockquote(o);continue}case"list":{i+=this.renderer.list(o);continue}case"html":{i+=this.renderer.html(o);continue}case"paragraph":{i+=this.renderer.paragraph(o);continue}case"text":{let a=o,l=this.renderer.text(a);for(;s+1<e.length&&e[s+1].type==="text";)a=e[++s],l+=`
`+this.renderer.text(a);t?i+=this.renderer.paragraph({type:"paragraph",raw:l,text:l,tokens:[{type:"text",raw:l,text:l}]}):i+=l;continue}default:{const a='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return i}parseInline(e,t){t=t||this.renderer;let i="";for(let s=0;s<e.length;s++){const r=e[s];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[r.type]){const a=this.options.extensions.renderers[r.type].call({parser:this},r);if(a!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(r.type)){i+=a||"";continue}}const o=r;switch(o.type){case"escape":{i+=t.text(o);break}case"html":{i+=t.html(o);break}case"link":{i+=t.link(o);break}case"image":{i+=t.image(o);break}case"strong":{i+=t.strong(o);break}case"em":{i+=t.em(o);break}case"codespan":{i+=t.codespan(o);break}case"br":{i+=t.br(o);break}case"del":{i+=t.del(o);break}case"text":{i+=t.text(o);break}default:{const a='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return i}}class Oe{constructor(e){z(this,"options");this.options=e||ve}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}}z(Oe,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));var pe,ei,mt,ti;class xo{constructor(...e){en(this,pe);z(this,"defaults",Ot());z(this,"options",this.setOptions);z(this,"parse",Se(this,pe,mt).call(this,le.lex,ce.parse));z(this,"parseInline",Se(this,pe,mt).call(this,le.lexInline,ce.parseInline));z(this,"Parser",ce);z(this,"Renderer",rt);z(this,"TextRenderer",Kt);z(this,"Lexer",le);z(this,"Tokenizer",it);z(this,"Hooks",Oe);this.use(...e)}walkTokens(e,t){var s,r;let i=[];for(const o of e)switch(i=i.concat(t.call(this,o)),o.type){case"table":{const a=o;for(const l of a.header)i=i.concat(this.walkTokens(l.tokens,t));for(const l of a.rows)for(const c of l)i=i.concat(this.walkTokens(c.tokens,t));break}case"list":{const a=o;i=i.concat(this.walkTokens(a.items,t));break}default:{const a=o;(r=(s=this.defaults.extensions)==null?void 0:s.childTokens)!=null&&r[a.type]?this.defaults.extensions.childTokens[a.type].forEach(l=>{const c=a[l].flat(1/0);i=i.concat(this.walkTokens(c,t))}):a.tokens&&(i=i.concat(this.walkTokens(a.tokens,t)))}}return i}use(...e){const t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(i=>{const s={...i};if(s.async=this.defaults.async||s.async||!1,i.extensions&&(i.extensions.forEach(r=>{if(!r.name)throw new Error("extension name required");if("renderer"in r){const o=t.renderers[r.name];o?t.renderers[r.name]=function(...a){let l=r.renderer.apply(this,a);return l===!1&&(l=o.apply(this,a)),l}:t.renderers[r.name]=r.renderer}if("tokenizer"in r){if(!r.level||r.level!=="block"&&r.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const o=t[r.level];o?o.unshift(r.tokenizer):t[r.level]=[r.tokenizer],r.start&&(r.level==="block"?t.startBlock?t.startBlock.push(r.start):t.startBlock=[r.start]:r.level==="inline"&&(t.startInline?t.startInline.push(r.start):t.startInline=[r.start]))}"childTokens"in r&&r.childTokens&&(t.childTokens[r.name]=r.childTokens)}),s.extensions=t),i.renderer){const r=this.defaults.renderer||new rt(this.defaults);for(const o in i.renderer){if(!(o in r))throw new Error(`renderer '${o}' does not exist`);if(["options","parser"].includes(o))continue;const a=o;let l=i.renderer[a];const c=r[a];r[a]=(...u)=>{i.useNewRenderer||(l=Se(this,pe,ei).call(this,l,a,r));let p=l.apply(r,u);return p===!1&&(p=c.apply(r,u)),p||""}}s.renderer=r}if(i.tokenizer){const r=this.defaults.tokenizer||new it(this.defaults);for(const o in i.tokenizer){if(!(o in r))throw new Error(`tokenizer '${o}' does not exist`);if(["options","rules","lexer"].includes(o))continue;const a=o,l=i.tokenizer[a],c=r[a];r[a]=(...u)=>{let p=l.apply(r,u);return p===!1&&(p=c.apply(r,u)),p}}s.tokenizer=r}if(i.hooks){const r=this.defaults.hooks||new Oe;for(const o in i.hooks){if(!(o in r))throw new Error(`hook '${o}' does not exist`);if(o==="options")continue;const a=o,l=i.hooks[a],c=r[a];Oe.passThroughHooks.has(o)?r[a]=u=>{if(this.defaults.async)return Promise.resolve(l.call(r,u)).then(y=>c.call(r,y));const p=l.call(r,u);return c.call(r,p)}:r[a]=(...u)=>{let p=l.apply(r,u);return p===!1&&(p=c.apply(r,u)),p}}s.hooks=r}if(i.walkTokens){const r=this.defaults.walkTokens,o=i.walkTokens;s.walkTokens=function(a){let l=[];return l.push(o.call(this,a)),r&&(l=l.concat(r.call(this,a))),l}}this.defaults={...this.defaults,...s}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return le.lex(e,t??this.defaults)}parser(e,t){return ce.parse(e,t??this.defaults)}}pe=new WeakSet,ei=function(e,t,i){switch(t){case"heading":return function(s){return!s.type||s.type!==t?e.apply(this,arguments):e.call(this,i.parser.parseInline(s.tokens),s.depth,Zr(i.parser.parseInline(s.tokens,i.parser.textRenderer)))};case"code":return function(s){return!s.type||s.type!==t?e.apply(this,arguments):e.call(this,s.text,s.lang,!!s.escaped)};case"table":return function(s){if(!s.type||s.type!==t)return e.apply(this,arguments);let r="",o="";for(let l=0;l<s.header.length;l++)o+=this.tablecell({text:s.header[l].text,tokens:s.header[l].tokens,header:!0,align:s.align[l]});r+=this.tablerow({text:o});let a="";for(let l=0;l<s.rows.length;l++){const c=s.rows[l];o="";for(let u=0;u<c.length;u++)o+=this.tablecell({text:c[u].text,tokens:c[u].tokens,header:!1,align:s.align[u]});a+=this.tablerow({text:o})}return e.call(this,r,a)};case"blockquote":return function(s){if(!s.type||s.type!==t)return e.apply(this,arguments);const r=this.parser.parse(s.tokens);return e.call(this,r)};case"list":return function(s){if(!s.type||s.type!==t)return e.apply(this,arguments);const r=s.ordered,o=s.start,a=s.loose;let l="";for(let c=0;c<s.items.length;c++){const u=s.items[c],p=u.checked,y=u.task;let b="";if(u.task){const T=this.checkbox({checked:!!p});a?u.tokens.length>0&&u.tokens[0].type==="paragraph"?(u.tokens[0].text=T+" "+u.tokens[0].text,u.tokens[0].tokens&&u.tokens[0].tokens.length>0&&u.tokens[0].tokens[0].type==="text"&&(u.tokens[0].tokens[0].text=T+" "+u.tokens[0].tokens[0].text)):u.tokens.unshift({type:"text",text:T+" "}):b+=T+" "}b+=this.parser.parse(u.tokens,a),l+=this.listitem({type:"list_item",raw:b,text:b,task:y,checked:!!p,loose:a,tokens:u.tokens})}return e.call(this,l,r,o)};case"html":return function(s){return!s.type||s.type!==t?e.apply(this,arguments):e.call(this,s.text,s.block)};case"paragraph":return function(s){return!s.type||s.type!==t?e.apply(this,arguments):e.call(this,this.parser.parseInline(s.tokens))};case"escape":return function(s){return!s.type||s.type!==t?e.apply(this,arguments):e.call(this,s.text)};case"link":return function(s){return!s.type||s.type!==t?e.apply(this,arguments):e.call(this,s.href,s.title,this.parser.parseInline(s.tokens))};case"image":return function(s){return!s.type||s.type!==t?e.apply(this,arguments):e.call(this,s.href,s.title,s.text)};case"strong":return function(s){return!s.type||s.type!==t?e.apply(this,arguments):e.call(this,this.parser.parseInline(s.tokens))};case"em":return function(s){return!s.type||s.type!==t?e.apply(this,arguments):e.call(this,this.parser.parseInline(s.tokens))};case"codespan":return function(s){return!s.type||s.type!==t?e.apply(this,arguments):e.call(this,s.text)};case"del":return function(s){return!s.type||s.type!==t?e.apply(this,arguments):e.call(this,this.parser.parseInline(s.tokens))};case"text":return function(s){return!s.type||s.type!==t?e.apply(this,arguments):e.call(this,s.text)}}return e},mt=function(e,t){return(i,s)=>{const r={...s},o={...this.defaults,...r};this.defaults.async===!0&&r.async===!1&&(o.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),o.async=!0);const a=Se(this,pe,ti).call(this,!!o.silent,!!o.async);if(typeof i>"u"||i===null)return a(new Error("marked(): input parameter is undefined or null"));if(typeof i!="string")return a(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(i)+", string expected"));if(o.hooks&&(o.hooks.options=o),o.async)return Promise.resolve(o.hooks?o.hooks.preprocess(i):i).then(l=>e(l,o)).then(l=>o.hooks?o.hooks.processAllTokens(l):l).then(l=>o.walkTokens?Promise.all(this.walkTokens(l,o.walkTokens)).then(()=>l):l).then(l=>t(l,o)).then(l=>o.hooks?o.hooks.postprocess(l):l).catch(a);try{o.hooks&&(i=o.hooks.preprocess(i));let l=e(i,o);o.hooks&&(l=o.hooks.processAllTokens(l)),o.walkTokens&&this.walkTokens(l,o.walkTokens);let c=t(l,o);return o.hooks&&(c=o.hooks.postprocess(c)),c}catch(l){return a(l)}}},ti=function(e,t){return i=>{if(i.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const s="<p>An error occurred:</p><pre>"+Z(i.message+"",!0)+"</pre>";return t?Promise.resolve(s):s}if(t)return Promise.reject(i);throw i}};const ye=new xo;function $(n,e){return ye.parse(n,e)}$.options=$.setOptions=function(n){return ye.setOptions(n),$.defaults=ye.defaults,qn($.defaults),$};$.getDefaults=Ot;$.defaults=ve;$.use=function(...n){return ye.use(...n),$.defaults=ye.defaults,qn($.defaults),$};$.walkTokens=function(n,e){return ye.walkTokens(n,e)};$.parseInline=ye.parseInline;$.Parser=ce;$.parser=ce.parse;$.Renderer=rt;$.TextRenderer=Kt;$.Lexer=le;$.lexer=le.lex;$.Tokenizer=it;$.Hooks=Oe;$.parse=$;$.options;$.setOptions;$.use;$.walkTokens;$.parseInline;ce.parse;le.lex;const ni=Ke("chat",()=>{const n=Ct(),e=An(),t=D([]),i=D(null),s=D(!1),r=D([]),o=D(!1),a=D(!0),l=D(!1),c=D(!1);return{chats:t,chatHistory:r,loading:s,isNewChat:a,newMessageSent:l,kenaiErrorResponse:c,desactivateNewChat:()=>a.value=!1,getChatLoading:()=>o.value,loadChats:async()=>{s.value=!0;const V=await Co();t.value=V,s.value=!1},getChats:()=>t.value,setActiveChatID:V=>i.value=V,getActiveChatID:()=>i.value,newChat:()=>{a.value=!0,o.value=!0,i.value=null,r.value=[],s.value=!1,o.value=!1,l.value=!1,c.value=!1},updateChatMessages:async V=>{if(V===i.value)return;a.value=!1,o.value=!0,i.value=V,r.value=[];const _e=await So(V);r.value=_e.map(H=>({index:H.iteration,user:{message:H.prompt,sentAt:H.prompt_timestamp,audio:H.prompt_audio_link},kenai:{response:H.response,renderedResponse:H.response,audio:H.response_audio_link,loading:!1,respondedAt:H.response_timestamp,error:!1,errorMessage:""}})),o.value=!1,setTimeout(()=>{e.scrollToLastMessage()},200)},getChatHistory:()=>r.value,setLoading:V=>s.value=V,setNewMessageSent:V=>l.value=V,renameChat:async(V,_e,H)=>{try{await Eo(V,_e)?n.add({severity:"success",summary:H("chat.done"),detail:H("chat.success.chat_name_updated"),life:3e3}):n.add({severity:"error",summary:"Error",detail:H("chat.error.no_chat_deleted"),life:3e3})}catch(xe){console.log(xe),n.add({severity:"error",summary:"Error",detail:H("chat.error.request"),life:3e3})}},setKenaiErrorResponse:()=>{c.value=!0}}}),Nt=Ke("session",()=>{const n=D(null),e=D(null),t=xt(()=>e.value!==null&&n.value!==null),i=ni(),s=Ct(),r=async(c,u)=>{try{const p=await fetch("/auth/google",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)});if(!p.ok)throw new Error(p.statusText);const y=await p.json();if(!y.success)throw new Error(y.error.message);return n.value=y.data.user,e.value=y.data.token,localStorage.setItem("kenai_token",y.data.token),localStorage.setItem("kenai_user",JSON.stringify(y.data.user)),s.add({severity:"success",summary:u("auth.welcome"),detail:`${u("auth.success.login_as")} ${n.value.given_name}`,life:3e3}),y.success}catch(p){console.error("Error al iniciar sesin:",p),s.add({severity:"error",summary:"Error",detail:u("auth.error.login"),life:3e3})}finally{t.value&&(i.loadChats(),i.newChat())}},o=c=>{n.value=null,e.value=null,localStorage.removeItem("kenai_token"),localStorage.removeItem("kenai_user"),s.add({severity:"info",summary:c("auth.session_closed"),detail:c("auth.success.logout"),life:3e3}),i.newChat()},a=async()=>{const c=localStorage.getItem("kenai_user"),u=localStorage.getItem("kenai_token");c&&u&&(e.value=u,await l()&&(n.value=JSON.parse(c)))},l=async()=>{try{const c=await fetch("/auth/jwt_check",{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.value}`}});if(!c.ok)throw new Error(c.statusText);const u=await c.json();if(!u.success)throw new Error(u.error.message);if(!u.data.valid)throw new Error("La sesin ha expirado. Inicia sesin nuevamente.");return!0}catch(c){return console.error("Error al validar la sesin:",c.message),o(),!1}};return{user:n,token:e,isAuthenticated:t,login:r,logout:o,loadSession:a}}),me=Nt();async function Co(){try{if(!me.isAuthenticated)return[];const n=await fetch("/chat/",{method:"GET",headers:{Authorization:`Bearer ${me.token}`,"Content-Type":"application/json"}});if(!n.ok)throw new Error(n.statusText);const e=await n.json();return e.success?e.data:[]}catch{return[]}}async function So(n){try{if(!me.isAuthenticated)return[];const e=await fetch("/chat/messages/"+n,{method:"GET",headers:{Authorization:`Bearer ${me.token}`,"Content-Type":"application/json"}});if(!e.ok)throw new Error(e.statusText);const t=await e.json();return t.success?t.data:[]}catch{return[]}}async function Lo(n){try{if(!me.isAuthenticated)return!1;const e=await fetch("/chat/delete/"+n,{method:"POST",headers:{Authorization:`Bearer ${me.token}`,"Content-Type":"application/json"}});if(!e.ok)throw new Error(e.statusText);const t=await e.json();return t.success?t.data:!1}catch{return!1}}async function Eo(n,e){try{if(!me.isAuthenticated)return!1;const t=await fetch("/chat/rename/"+n,{method:"POST",headers:{Authorization:`Bearer ${me.token}`,"Content-Type":"application/json"},body:JSON.stringify({title:e})});if(!t.ok)throw new Error(t.statusText);const i=await t.json();return i.success?i.data:!1}catch{return!1}}const Ao=Ke("navbar",()=>{const n=D(!1);return{extended:n,loadNavbar:()=>{const i=localStorage.getItem("kenai_navbar_extended");i?n.value=JSON.parse(i):localStorage.setItem("kenai_navbar_extended",JSON.stringify(!1))},toggleExtended:()=>{n.value=!n.value,localStorage.setItem("kenai_navbar_extended",JSON.stringify(n.value))}}}),ii=Ke("mobile",()=>{const n=D(window.innerWidth),e=D(n.value<800);Ln(n,r=>{e.value=r<800,t()});const t=()=>{n.value=window.innerWidth};return{isMobile:e,windowWidth:n,initWidthWatch:()=>{window.addEventListener("resize",t)},destroyWidthWatch:()=>{window.removeEventListener("resize",t)}}}),To=Ke("lang",()=>{const n=D("es");return{langMessages:ft({es:Mi,en:Ki}),langCode:n,loadLang:async()=>{const s=localStorage.getItem("kenai_lang");s?n.value=s:localStorage.setItem("kenai_lang","es"),nn.global.locale.value=n.value},changeLang:s=>{n.value=s,localStorage.setItem("kenai_lang",n.value),nn.global.locale.value=n.value}}}),he=Object.create(null);he.open="0";he.close="1";he.ping="2";he.pong="3";he.message="4";he.upgrade="5";he.noop="6";const et=Object.create(null);Object.keys(he).forEach(n=>{et[he[n]]=n});const gt={type:"error",data:"parser error"},si=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",ri=typeof ArrayBuffer=="function",oi=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n&&n.buffer instanceof ArrayBuffer,Ft=({type:n,data:e},t,i)=>si&&e instanceof Blob?t?i(e):gn(e,i):ri&&(e instanceof ArrayBuffer||oi(e))?t?i(e):gn(new Blob([e]),i):i(he[n]+(e||"")),gn=(n,e)=>{const t=new FileReader;return t.onload=function(){const i=t.result.split(",")[1];e("b"+(i||""))},t.readAsDataURL(n)};function yn(n){return n instanceof Uint8Array?n:n instanceof ArrayBuffer?new Uint8Array(n):new Uint8Array(n.buffer,n.byteOffset,n.byteLength)}let ut;function Bo(n,e){if(si&&n.data instanceof Blob)return n.data.arrayBuffer().then(yn).then(e);if(ri&&(n.data instanceof ArrayBuffer||oi(n.data)))return e(yn(n.data));Ft(n,!1,t=>{ut||(ut=new TextEncoder),e(ut.encode(t))})}const bn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Be=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let n=0;n<bn.length;n++)Be[bn.charCodeAt(n)]=n;const Ro=n=>{let e=n.length*.75,t=n.length,i,s=0,r,o,a,l;n[n.length-1]==="="&&(e--,n[n.length-2]==="="&&e--);const c=new ArrayBuffer(e),u=new Uint8Array(c);for(i=0;i<t;i+=4)r=Be[n.charCodeAt(i)],o=Be[n.charCodeAt(i+1)],a=Be[n.charCodeAt(i+2)],l=Be[n.charCodeAt(i+3)],u[s++]=r<<2|o>>4,u[s++]=(o&15)<<4|a>>2,u[s++]=(a&3)<<6|l&63;return c},Oo=typeof ArrayBuffer=="function",Vt=(n,e)=>{if(typeof n!="string")return{type:"message",data:ai(n,e)};const t=n.charAt(0);return t==="b"?{type:"message",data:$o(n.substring(1),e)}:et[t]?n.length>1?{type:et[t],data:n.substring(1)}:{type:et[t]}:gt},$o=(n,e)=>{if(Oo){const t=Ro(n);return ai(t,e)}else return{base64:!0,data:n}},ai=(n,e)=>{switch(e){case"blob":return n instanceof Blob?n:new Blob([n]);case"arraybuffer":default:return n instanceof ArrayBuffer?n:n.buffer}},li="",Po=(n,e)=>{const t=n.length,i=new Array(t);let s=0;n.forEach((r,o)=>{Ft(r,!1,a=>{i[o]=a,++s===t&&e(i.join(li))})})},zo=(n,e)=>{const t=n.split(li),i=[];for(let s=0;s<t.length;s++){const r=Vt(t[s],e);if(i.push(r),r.type==="error")break}return i};function Do(){return new TransformStream({transform(n,e){Bo(n,t=>{const i=t.length;let s;if(i<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,i);else if(i<65536){s=new Uint8Array(3);const r=new DataView(s.buffer);r.setUint8(0,126),r.setUint16(1,i)}else{s=new Uint8Array(9);const r=new DataView(s.buffer);r.setUint8(0,127),r.setBigUint64(1,BigInt(i))}n.data&&typeof n.data!="string"&&(s[0]|=128),e.enqueue(s),e.enqueue(t)})}})}let dt;function Ge(n){return n.reduce((e,t)=>e+t.length,0)}function Ye(n,e){if(n[0].length===e)return n.shift();const t=new Uint8Array(e);let i=0;for(let s=0;s<e;s++)t[s]=n[0][i++],i===n[0].length&&(n.shift(),i=0);return n.length&&i<n[0].length&&(n[0]=n[0].slice(i)),t}function Mo(n,e){dt||(dt=new TextDecoder);const t=[];let i=0,s=-1,r=!1;return new TransformStream({transform(o,a){for(t.push(o);;){if(i===0){if(Ge(t)<1)break;const l=Ye(t,1);r=(l[0]&128)===128,s=l[0]&127,s<126?i=3:s===126?i=1:i=2}else if(i===1){if(Ge(t)<2)break;const l=Ye(t,2);s=new DataView(l.buffer,l.byteOffset,l.length).getUint16(0),i=3}else if(i===2){if(Ge(t)<8)break;const l=Ye(t,8),c=new DataView(l.buffer,l.byteOffset,l.length),u=c.getUint32(0);if(u>Math.pow(2,21)-1){a.enqueue(gt);break}s=u*Math.pow(2,32)+c.getUint32(4),i=3}else{if(Ge(t)<s)break;const l=Ye(t,s);a.enqueue(Vt(r?l:dt.decode(l),e)),i=0}if(s===0||s>n){a.enqueue(gt);break}}}})}const ci=4;function N(n){if(n)return Ko(n)}function Ko(n){for(var e in N.prototype)n[e]=N.prototype[e];return n}N.prototype.on=N.prototype.addEventListener=function(n,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(e),this};N.prototype.once=function(n,e){function t(){this.off(n,t),e.apply(this,arguments)}return t.fn=e,this.on(n,t),this};N.prototype.off=N.prototype.removeListener=N.prototype.removeAllListeners=N.prototype.removeEventListener=function(n,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var t=this._callbacks["$"+n];if(!t)return this;if(arguments.length==1)return delete this._callbacks["$"+n],this;for(var i,s=0;s<t.length;s++)if(i=t[s],i===e||i.fn===e){t.splice(s,1);break}return t.length===0&&delete this._callbacks["$"+n],this};N.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),t=this._callbacks["$"+n],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(t){t=t.slice(0);for(var i=0,s=t.length;i<s;++i)t[i].apply(this,e)}return this};N.prototype.emitReserved=N.prototype.emit;N.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]};N.prototype.hasListeners=function(n){return!!this.listeners(n).length};const Y=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function ui(n,...e){return e.reduce((t,i)=>(n.hasOwnProperty(i)&&(t[i]=n[i]),t),{})}const No=Y.setTimeout,Fo=Y.clearTimeout;function lt(n,e){e.useNativeTimers?(n.setTimeoutFn=No.bind(Y),n.clearTimeoutFn=Fo.bind(Y)):(n.setTimeoutFn=Y.setTimeout.bind(Y),n.clearTimeoutFn=Y.clearTimeout.bind(Y))}const Vo=1.33;function Ho(n){return typeof n=="string"?qo(n):Math.ceil((n.byteLength||n.size)*Vo)}function qo(n){let e=0,t=0;for(let i=0,s=n.length;i<s;i++)e=n.charCodeAt(i),e<128?t+=1:e<2048?t+=2:e<55296||e>=57344?t+=3:(i++,t+=4);return t}function Uo(n){let e="";for(let t in n)n.hasOwnProperty(t)&&(e.length&&(e+="&"),e+=encodeURIComponent(t)+"="+encodeURIComponent(n[t]));return e}function jo(n){let e={},t=n.split("&");for(let i=0,s=t.length;i<s;i++){let r=t[i].split("=");e[decodeURIComponent(r[0])]=decodeURIComponent(r[1])}return e}class Zo extends Error{constructor(e,t,i){super(e),this.description=t,this.context=i,this.type="TransportError"}}class Ht extends N{constructor(e){super(),this.writable=!1,lt(this,e),this.opts=e,this.query=e.query,this.socket=e.socket}onError(e,t,i){return super.emitReserved("error",new Zo(e,t,i)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=Vt(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,t={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const t=Uo(e);return t.length?"?"+t:""}}const di="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),yt=64,Wo={};let vn=0,Xe=0,kn;function wn(n){let e="";do e=di[n%yt]+e,n=Math.floor(n/yt);while(n>0);return e}function hi(){const n=wn(+new Date);return n!==kn?(vn=0,kn=n):n+"."+wn(vn++)}for(;Xe<yt;Xe++)Wo[di[Xe]]=Xe;let fi=!1;try{fi=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Go=fi;function pi(n){const e=n.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||Go))return new XMLHttpRequest}catch{}if(!e)try{return new Y[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function Yo(){}const Xo=function(){return new pi({xdomain:!1}).responseType!=null}();class Qo extends Ht{constructor(e){if(super(e),this.polling=!1,typeof location<"u"){const i=location.protocol==="https:";let s=location.port;s||(s=i?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||s!==e.port}const t=e&&e.forceBase64;this.supportsBinary=Xo&&!t,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let i=0;this.polling&&(i++,this.once("pollComplete",function(){--i||t()})),this.writable||(i++,this.once("drain",function(){--i||t()}))}else t()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const t=i=>{if(this.readyState==="opening"&&i.type==="open"&&this.onOpen(),i.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(i)};zo(e,this.socket.binaryType).forEach(t),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,Po(e,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return this.opts.timestampRequests!==!1&&(t[this.opts.timestampParam]=hi()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.createUri(e,t)}request(e={}){return Object.assign(e,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new de(this.uri(),e)}doWrite(e,t){const i=this.request({method:"POST",data:e});i.on("success",t),i.on("error",(s,r)=>{this.onError("xhr post error",s,r)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(t,i)=>{this.onError("xhr poll error",t,i)}),this.pollXhr=e}}class de extends N{constructor(e,t){super(),lt(this,t),this.opts=t,this.method=t.method||"GET",this.uri=e,this.data=t.data!==void 0?t.data:null,this.create()}create(){var e;const t=ui(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this.opts.xd;const i=this.xhr=new pi(t);try{i.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0);for(let s in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(s)&&i.setRequestHeader(s,this.opts.extraHeaders[s])}}catch{}if(this.method==="POST")try{i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{i.setRequestHeader("Accept","*/*")}catch{}(e=this.opts.cookieJar)===null||e===void 0||e.addCookies(i),"withCredentials"in i&&(i.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(i.timeout=this.opts.requestTimeout),i.onreadystatechange=()=>{var s;i.readyState===3&&((s=this.opts.cookieJar)===null||s===void 0||s.parseCookies(i)),i.readyState===4&&(i.status===200||i.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof i.status=="number"?i.status:0)},0))},i.send(this.data)}catch(s){this.setTimeoutFn(()=>{this.onError(s)},0);return}typeof document<"u"&&(this.index=de.requestsCount++,de.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=Yo,e)try{this.xhr.abort()}catch{}typeof document<"u"&&delete de.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}de.requestsCount=0;de.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",In);else if(typeof addEventListener=="function"){const n="onpagehide"in Y?"pagehide":"unload";addEventListener(n,In,!1)}}function In(){for(let n in de.requests)de.requests.hasOwnProperty(n)&&de.requests[n].abort()}const qt=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,t)=>t(e,0),Qe=Y.WebSocket||Y.MozWebSocket,_n=!0,Jo="arraybuffer",xn=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class ea extends Ht{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),t=this.opts.protocols,i=xn?{}:ui(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(i.headers=this.opts.extraHeaders);try{this.ws=_n&&!xn?t?new Qe(e,t):new Qe(e):new Qe(e,t,i)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const i=e[t],s=t===e.length-1;Ft(i,this.supportsBinary,r=>{const o={};try{_n&&this.ws.send(r)}catch{}s&&qt(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=hi()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}check(){return!!Qe}}class ta extends Ht{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(e=>{const t=Mo(Number.MAX_SAFE_INTEGER,this.socket.binaryType),i=e.readable.pipeThrough(t).getReader(),s=Do();s.readable.pipeTo(e.writable),this.writer=s.writable.getWriter();const r=()=>{i.read().then(({done:a,value:l})=>{a||(this.onPacket(l),r())}).catch(a=>{})};r();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this.writer.write(o).then(()=>this.onOpen())})}))}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const i=e[t],s=t===e.length-1;this.writer.write(i).then(()=>{s&&qt(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this.transport)===null||e===void 0||e.close()}}const na={websocket:ea,webtransport:ta,polling:Qo},ia=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,sa=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function bt(n){if(n.length>2e3)throw"URI too long";const e=n,t=n.indexOf("["),i=n.indexOf("]");t!=-1&&i!=-1&&(n=n.substring(0,t)+n.substring(t,i).replace(/:/g,";")+n.substring(i,n.length));let s=ia.exec(n||""),r={},o=14;for(;o--;)r[sa[o]]=s[o]||"";return t!=-1&&i!=-1&&(r.source=e,r.host=r.host.substring(1,r.host.length-1).replace(/;/g,":"),r.authority=r.authority.replace("[","").replace("]","").replace(/;/g,":"),r.ipv6uri=!0),r.pathNames=ra(r,r.path),r.queryKey=oa(r,r.query),r}function ra(n,e){const t=/\/{2,9}/g,i=e.replace(t,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&i.splice(0,1),e.slice(-1)=="/"&&i.splice(i.length-1,1),i}function oa(n,e){const t={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(i,s,r){s&&(t[s]=r)}),t}let mi=class ke extends N{constructor(e,t={}){super(),this.binaryType=Jo,this.writeBuffer=[],e&&typeof e=="object"&&(t=e,e=null),e?(e=bt(e),t.hostname=e.host,t.secure=e.protocol==="https"||e.protocol==="wss",t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=bt(t.host).host),lt(this,t),this.secure=t.secure!=null?t.secure:typeof location<"u"&&location.protocol==="https:",t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=t.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=t.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=jo(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=ci,t.transport=e,this.id&&(t.sid=this.id);const i=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new na[e](i)}open(){let e;if(this.opts.rememberUpgrade&&ke.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)e="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else e=this.transports[0];this.readyState="opening";try{e=this.createTransport(e)}catch{this.transports.shift(),this.open();return}e.open(),this.setTransport(e)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",t=>this.onClose("transport close",t))}probe(e){let t=this.createTransport(e),i=!1;ke.priorWebsocketSuccess=!1;const s=()=>{i||(t.send([{type:"ping",data:"probe"}]),t.once("packet",p=>{if(!i)if(p.type==="pong"&&p.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;ke.priorWebsocketSuccess=t.name==="websocket",this.transport.pause(()=>{i||this.readyState!=="closed"&&(u(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{const y=new Error("probe error");y.transport=t.name,this.emitReserved("upgradeError",y)}}))};function r(){i||(i=!0,u(),t.close(),t=null)}const o=p=>{const y=new Error("probe error: "+p);y.transport=t.name,r(),this.emitReserved("upgradeError",y)};function a(){o("transport closed")}function l(){o("socket closed")}function c(p){t&&p.name!==t.name&&r()}const u=()=>{t.removeListener("open",s),t.removeListener("error",o),t.removeListener("close",a),this.off("close",l),this.off("upgrading",c)};t.once("open",s),t.once("error",o),t.once("close",a),this.once("close",l),this.once("upgrading",c),this.upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{i||t.open()},200):t.open()}onOpen(){if(this.readyState="open",ke.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let e=0;const t=this.upgrades.length;for(;e<t;e++)this.probe(this.upgrades[e])}}onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),this.resetPingTimeout(),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let i=0;i<this.writeBuffer.length;i++){const s=this.writeBuffer[i].data;if(s&&(t+=Ho(s)),i>0&&t>this.maxPayload)return this.writeBuffer.slice(0,i);t+=2}return this.writeBuffer}write(e,t,i){return this.sendPacket("message",e,t,i),this}send(e,t,i){return this.sendPacket("message",e,t,i),this}sendPacket(e,t,i,s){if(typeof t=="function"&&(s=t,t=void 0),typeof i=="function"&&(s=i,i=null),this.readyState==="closing"||this.readyState==="closed")return;i=i||{},i.compress=i.compress!==!1;const r={type:e,data:t,options:i};this.emitReserved("packetCreate",r),this.writeBuffer.push(r),s&&this.once("flush",s),this.flush()}close(){const e=()=>{this.onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},i=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?i():e()}):this.upgrading?i():e()),this}onError(e){ke.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,t){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const t=[];let i=0;const s=e.length;for(;i<s;i++)~this.transports.indexOf(e[i])&&t.push(e[i]);return t}};mi.protocol=ci;function aa(n,e="",t){let i=n;t=t||typeof location<"u"&&location,n==null&&(n=t.protocol+"//"+t.host),typeof n=="string"&&(n.charAt(0)==="/"&&(n.charAt(1)==="/"?n=t.protocol+n:n=t.host+n),/^(https?|wss?):\/\//.test(n)||(typeof t<"u"?n=t.protocol+"//"+n:n="https://"+n),i=bt(n)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";const r=i.host.indexOf(":")!==-1?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+r+":"+i.port+e,i.href=i.protocol+"://"+r+(t&&t.port===i.port?"":":"+i.port),i}const la=typeof ArrayBuffer=="function",ca=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n.buffer instanceof ArrayBuffer,gi=Object.prototype.toString,ua=typeof Blob=="function"||typeof Blob<"u"&&gi.call(Blob)==="[object BlobConstructor]",da=typeof File=="function"||typeof File<"u"&&gi.call(File)==="[object FileConstructor]";function Ut(n){return la&&(n instanceof ArrayBuffer||ca(n))||ua&&n instanceof Blob||da&&n instanceof File}function tt(n,e){if(!n||typeof n!="object")return!1;if(Array.isArray(n)){for(let t=0,i=n.length;t<i;t++)if(tt(n[t]))return!0;return!1}if(Ut(n))return!0;if(n.toJSON&&typeof n.toJSON=="function"&&arguments.length===1)return tt(n.toJSON(),!0);for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&tt(n[t]))return!0;return!1}function ha(n){const e=[],t=n.data,i=n;return i.data=vt(t,e),i.attachments=e.length,{packet:i,buffers:e}}function vt(n,e){if(!n)return n;if(Ut(n)){const t={_placeholder:!0,num:e.length};return e.push(n),t}else if(Array.isArray(n)){const t=new Array(n.length);for(let i=0;i<n.length;i++)t[i]=vt(n[i],e);return t}else if(typeof n=="object"&&!(n instanceof Date)){const t={};for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=vt(n[i],e));return t}return n}function fa(n,e){return n.data=kt(n.data,e),delete n.attachments,n}function kt(n,e){if(!n)return n;if(n&&n._placeholder===!0){if(typeof n.num=="number"&&n.num>=0&&n.num<e.length)return e[n.num];throw new Error("illegal attachments")}else if(Array.isArray(n))for(let t=0;t<n.length;t++)n[t]=kt(n[t],e);else if(typeof n=="object")for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&(n[t]=kt(n[t],e));return n}const pa=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],ma=5;var E;(function(n){n[n.CONNECT=0]="CONNECT",n[n.DISCONNECT=1]="DISCONNECT",n[n.EVENT=2]="EVENT",n[n.ACK=3]="ACK",n[n.CONNECT_ERROR=4]="CONNECT_ERROR",n[n.BINARY_EVENT=5]="BINARY_EVENT",n[n.BINARY_ACK=6]="BINARY_ACK"})(E||(E={}));class ga{constructor(e){this.replacer=e}encode(e){return(e.type===E.EVENT||e.type===E.ACK)&&tt(e)?this.encodeAsBinary({type:e.type===E.EVENT?E.BINARY_EVENT:E.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let t=""+e.type;return(e.type===E.BINARY_EVENT||e.type===E.BINARY_ACK)&&(t+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(t+=e.nsp+","),e.id!=null&&(t+=e.id),e.data!=null&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=ha(e),i=this.encodeAsString(t.packet),s=t.buffers;return s.unshift(i),s}}function Cn(n){return Object.prototype.toString.call(n)==="[object Object]"}class jt extends N{constructor(e){super(),this.reviver=e}add(e){let t;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const i=t.type===E.BINARY_EVENT;i||t.type===E.BINARY_ACK?(t.type=i?E.EVENT:E.ACK,this.reconstructor=new ya(t),t.attachments===0&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else if(Ut(e)||e.base64)if(this.reconstructor)t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let t=0;const i={type:Number(e.charAt(0))};if(E[i.type]===void 0)throw new Error("unknown packet type "+i.type);if(i.type===E.BINARY_EVENT||i.type===E.BINARY_ACK){const r=t+1;for(;e.charAt(++t)!=="-"&&t!=e.length;);const o=e.substring(r,t);if(o!=Number(o)||e.charAt(t)!=="-")throw new Error("Illegal attachments");i.attachments=Number(o)}if(e.charAt(t+1)==="/"){const r=t+1;for(;++t&&!(e.charAt(t)===","||t===e.length););i.nsp=e.substring(r,t)}else i.nsp="/";const s=e.charAt(t+1);if(s!==""&&Number(s)==s){const r=t+1;for(;++t;){const o=e.charAt(t);if(o==null||Number(o)!=o){--t;break}if(t===e.length)break}i.id=Number(e.substring(r,t+1))}if(e.charAt(++t)){const r=this.tryParse(e.substr(t));if(jt.isPayloadValid(i.type,r))i.data=r;else throw new Error("invalid payload")}return i}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,t){switch(e){case E.CONNECT:return Cn(t);case E.DISCONNECT:return t===void 0;case E.CONNECT_ERROR:return typeof t=="string"||Cn(t);case E.EVENT:case E.BINARY_EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&pa.indexOf(t[0])===-1);case E.ACK:case E.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class ya{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const t=fa(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const ba=Object.freeze(Object.defineProperty({__proto__:null,Decoder:jt,Encoder:ga,get PacketType(){return E},protocol:ma},Symbol.toStringTag,{value:"Module"}));function ne(n,e,t){return n.on(e,t),function(){n.off(e,t)}}const va=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class yi extends N{constructor(e,t,i){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,i&&i.auth&&(this.auth=i.auth),this._opts=Object.assign({},i),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[ne(e,"open",this.onopen.bind(this)),ne(e,"packet",this.onpacket.bind(this)),ne(e,"error",this.onerror.bind(this)),ne(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){if(va.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(t.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;const i={type:E.EVENT,data:t};if(i.options={},i.options.compress=this.flags.compress!==!1,typeof t[t.length-1]=="function"){const o=this.ids++,a=t.pop();this._registerAckCallback(o,a),i.id=o}const s=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!s||!this.connected)||(this.connected?(this.notifyOutgoingListeners(i),this.packet(i)):this.sendBuffer.push(i)),this.flags={},this}_registerAckCallback(e,t){var i;const s=(i=this.flags.timeout)!==null&&i!==void 0?i:this._opts.ackTimeout;if(s===void 0){this.acks[e]=t;return}const r=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===e&&this.sendBuffer.splice(a,1);t.call(this,new Error("operation has timed out"))},s),o=(...a)=>{this.io.clearTimeoutFn(r),t.apply(this,a)};o.withError=!0,this.acks[e]=o}emitWithAck(e,...t){return new Promise((i,s)=>{const r=(o,a)=>o?s(o):i(a);r.withError=!0,t.push(r),this.emit(e,...t)})}_addToQueue(e){let t;typeof e[e.length-1]=="function"&&(t=e.pop());const i={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((s,...r)=>i!==this._queue[0]?void 0:(s!==null?i.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(s)):(this._queue.shift(),t&&t(null,...r)),i.pending=!1,this._drainQueue())),this._queue.push(i),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:E.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(i=>String(i.id)===e)){const i=this.acks[e];delete this.acks[e],i.withError&&i.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case E.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case E.EVENT:case E.BINARY_EVENT:this.onevent(e);break;case E.ACK:case E.BINARY_ACK:this.onack(e);break;case E.DISCONNECT:this.ondisconnect();break;case E.CONNECT_ERROR:this.destroy();const i=new Error(e.data.message);i.data=e.data.data,this.emitReserved("connect_error",i);break}}onevent(e){const t=e.data||[];e.id!=null&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const i of t)i.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let i=!1;return function(...s){i||(i=!0,t.packet({type:E.ACK,id:e,data:s}))}}onack(e){const t=this.acks[e.id];typeof t=="function"&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:E.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let i=0;i<t.length;i++)if(e===t[i])return t.splice(i,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let i=0;i<t.length;i++)if(e===t[i])return t.splice(i,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const i of t)i.apply(this,e.data)}}}function we(n){n=n||{},this.ms=n.min||100,this.max=n.max||1e4,this.factor=n.factor||2,this.jitter=n.jitter>0&&n.jitter<=1?n.jitter:0,this.attempts=0}we.prototype.duration=function(){var n=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),t=Math.floor(e*this.jitter*n);n=Math.floor(e*10)&1?n+t:n-t}return Math.min(n,this.max)|0};we.prototype.reset=function(){this.attempts=0};we.prototype.setMin=function(n){this.ms=n};we.prototype.setMax=function(n){this.max=n};we.prototype.setJitter=function(n){this.jitter=n};class wt extends N{constructor(e,t){var i;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.opts=t,lt(this,t),this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor((i=t.randomizationFactor)!==null&&i!==void 0?i:.5),this.backoff=new we({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(t.timeout==null?2e4:t.timeout),this._readyState="closed",this.uri=e;const s=t.parser||ba;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=t.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(t=this.backoff)===null||t===void 0||t.setMin(e),this)}randomizationFactor(e){var t;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(t=this.backoff)===null||t===void 0||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(t=this.backoff)===null||t===void 0||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new mi(this.uri,this.opts);const t=this.engine,i=this;this._readyState="opening",this.skipReconnect=!1;const s=ne(t,"open",function(){i.onopen(),e&&e()}),r=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),e?e(a):this.maybeReconnectOnOpen()},o=ne(t,"error",r);if(this._timeout!==!1){const a=this._timeout,l=this.setTimeoutFn(()=>{s(),r(new Error("timeout")),t.close()},a);this.opts.autoUnref&&l.unref(),this.subs.push(()=>{this.clearTimeoutFn(l)})}return this.subs.push(s),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(ne(e,"ping",this.onping.bind(this)),ne(e,"data",this.ondata.bind(this)),ne(e,"error",this.onerror.bind(this)),ne(e,"close",this.onclose.bind(this)),ne(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}ondecoded(e){qt(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let i=this.nsps[e];return i?this._autoConnect&&!i.active&&i.connect():(i=new yi(this,e,t),this.nsps[e]=i),i}_destroy(e){const t=Object.keys(this.nsps);for(const i of t)if(this.nsps[i].active)return;this._close()}_packet(e){const t=this.encoder.encode(e);for(let i=0;i<t.length;i++)this.engine.write(t[i],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,t){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const i=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(s=>{s?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",s)):e.onreconnect()}))},t);this.opts.autoUnref&&i.unref(),this.subs.push(()=>{this.clearTimeoutFn(i)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Ae={};function nt(n,e){typeof n=="object"&&(e=n,n=void 0),e=e||{};const t=aa(n,e.path||"/socket.io"),i=t.source,s=t.id,r=t.path,o=Ae[s]&&r in Ae[s].nsps,a=e.forceNew||e["force new connection"]||e.multiplex===!1||o;let l;return a?l=new wt(i,e):(Ae[s]||(Ae[s]=new wt(i,e)),l=Ae[s]),t.query&&!e.query&&(e.query=t.queryKey),l.socket(t.path,e)}Object.assign(nt,{Manager:wt,Socket:yi,io:nt,connect:nt});const bi=n=>(Lt("data-v-dcecd383"),n=n(),Et(),n),ka={key:0,class:"loading-screen animate__animated"},wa=bi(()=>f("div",{class:"logo-container animate__animated"},[f("svg",{viewBox:"0 0 800 570",xmlns:"http://www.w3.org/2000/svg",class:"loader-logo"},[f("path",{class:"cls-1",d:"M614.36,476.01c-26.71-45.53-38.01-118.14-38.01-118.14-45.14,18.81-114.38,61.7-114.38,61.7,0,0,19.95,26.33,52.4,68.67,32.46,42.33,41.67,37.43,41.67,37.43h115.88c0-55.68-57.56-49.66-57.56-49.66Z"}),f("path",{class:"cls-1",d:"M400,133.32c0-19.11,15.5-34.61,34.61-34.61-9.55,0-18.21-3.88-24.48-10.15-6.25-6.25-10.13-14.92-10.13-24.48,0,9.56-3.88,18.23-10.13,24.48-6.27,6.27-14.93,10.15-24.48,10.15,9.55,0,18.21,3.88,24.48,10.13,6.25,6.27,10.13,14.92,10.13,24.48Z"}),f("path",{class:"cls-1",d:"M501.86,84.03c0-11.01,8.92-19.95,19.93-19.95-5.51,0-10.48-2.23-14.1-5.83-3.6-3.62-5.83-8.59-5.83-14.1,0,5.51-2.23,10.48-5.85,14.1-3.62,3.6-8.6,5.83-14.1,5.83,5.5,0,10.48,2.23,14.1,5.85s5.85,8.6,5.85,14.1Z"}),f("path",{class:"cls-1",d:"M726.71,246.04s-15.98-9.4-43.83-32.92c3.57-30.47-29.35-49.66-44.21-60.77.74-17.12-2.64-33.11-27.47-39.5-33.3-7.33-44.96,24.64-44.96,24.64-60.62-27.86-102.48-19.83-147.07-.35-44.59,19.46-56.73,11.85-82.13,10.72-119.37-30.2-159.16-7.06-204.86,27.94-45.72,34.99-51.83,100.18-43.65,138.85,12.42,26.81,3.4,38.1-3.95,68.29-3.66,11.56-12.7,40.63-12.13,83.81,3.95,53.63,42.05,58.93,42.05,58.93h105.25c0-44.35-34.7-47.55-34.7-47.55h-25.4c0-41.06,31.89-68.57,31.89-68.57,71.11.55,106.94-70.83,109.77-108.46,5.26,15.24,3.95,47.04,3.95,47.04,5.64-2.52,14.55-9.08,23.71-16.52,5.18,23.75-2.26,44.69-18.85,63.55-.98.76-1.97,1.52-2.96,2.3-1.53,1.21-3.09,2.41-4.72,3.47-28.3,18.59-16.77,52.07-10.13,70.89,17.5,52.49,46.42,53.84,46.42,53.84h112.18c3.09-33.16-23.12-49.54-61.88-49.54-11.28-63.58,37.63-83.91,53.61-95.19,74.88-50.23,152.96-69.05,152.96-69.05,0,0,35.18,7.35,64.9-.74,79.77-23.14,66.22-65.1,66.22-65.1ZM463.23,251.71c0-12.73-5.16-24.25-13.5-32.59-8.34-8.34-19.86-13.5-32.59-13.5,12.73,0,24.25-5.16,32.59-13.5,8.34-8.35,13.5-19.87,13.5-32.6,0,12.73,5.16,24.25,13.5,32.6,8.34,8.34,19.87,13.5,32.6,13.5-25.46,0-46.1,20.63-46.1,46.09ZM653.87,242.63c-6.31,0-11.43-5.42-11.43-12.13s5.12-12.13,11.43-12.13,11.42,5.42,11.42,12.13-5.12,12.13-11.42,12.13Z"})])],-1)),Ia=bi(()=>f("div",{class:"lights"},[f("div",{class:"light light1"}),f("div",{class:"light light2"}),f("div",{class:"light light3"})],-1)),_a=[wa,Ia],xa={__name:"PageLoader",props:{loading:{type:Boolean,required:!0}},setup(n){return(e,t)=>(d(),S(be,{name:"custom-fade"},{default:k(()=>[n.loading?(d(),g("div",ka,_a)):w("",!0)]),_:1}))}},Ca=St(xa,[["__scopeId","data-v-dcecd383"]]),vi=n=>(Lt("data-v-00a95706"),n=n(),Et(),n),Sa={class:"sso-main"},La={class:"sso__container"},Ea={key:0,class:"user-email"},Aa={key:1,class:"title__container"},Ta=vi(()=>f("span",{class:"material-icons"},"person",-1)),Ba={class:"title__text"},Ra={key:2,class:"user-details"},Oa={class:"authed__container"},$a={class:"hi-user"},Pa={class:"form__container"},za=vi(()=>f("span",{class:"material-icons-outlined icon"},"logout",-1)),Da={__name:"GoogleLogin",setup(n){const e=Nt(),t=ii(),i=D(!1),{t:s,locale:r}=En(),o=async a=>{i.value=!0;const l=Fi(a.credential);try{await e.login(l,s)}catch(c){console.log(c)}finally{i.value=!1}};return(a,l)=>{const c=Rt,u=Bt,p=At,y=Zi;return d(),g("main",Sa,[i.value?(d(),S(c,{key:0,mode:"indeterminate",class:"loading-bar",style:ge([{width:h(t).isMobile?"100dvw":"436px"}])},null,8,["style"])):w("",!0),f("div",La,[h(e).isAuthenticated?(d(),g("section",Ea,L(h(e).user.email),1)):w("",!0),h(e).isAuthenticated?w("",!0):(d(),g("section",Aa,[Ta,f("h1",Ba,L(h(s)("auth.login")),1)])),h(e).isAuthenticated?(d(),g("section",Ra,[f("div",Oa,[v(u,{image:h(e).user.picture,alt:"User Avatar",shape:"circle",size:"xlarge",style:{height:"80px",width:"80px"}},null,8,["image"]),f("span",$a,L(h(s)("auth.hi"))+", "+L(h(e).user.given_name)+"",1)])])):w("",!0),f("section",Pa,[h(e).isAuthenticated?w("",!0):(d(),S(h(Ni),{key:0,callback:o})),h(e).isAuthenticated?(d(),S(p,{key:1,class:"logout-btn",onClick:l[0]||(l[0]=b=>h(e).logout(h(s))),rounded:"",outlined:""},{default:k(()=>[za,$e(" "+L(h(s)("auth.logout")),1)]),_:1})):w("",!0)]),f("section",{class:"footer__container",style:ge([{flexDirection:h(t).isMobile?"column":""}])},[v(p,{class:"footer-btn",label:h(s)("auth.privacy_policy"),severity:"secondary",text:"",size:"small"},null,8,["label"]),h(t).isMobile?w("",!0):(d(),S(y,{key:0,layout:"vertical"})),v(p,{class:"footer-btn",label:h(s)("auth.terms_of_service"),severity:"secondary",text:"",size:"small"},null,8,["label"])],4)])])}}},Ma=St(Da,[["__scopeId","data-v-00a95706"]]),G=n=>(Lt("data-v-45252c92"),n=n(),Et(),n),Ka={class:"second-title"},Na={class:"title-input__container"},Fa={for:"title",class:"font-semibold w-6rem"},Va={key:0,id:"username-help"},Ha={class:"new-title__btns-container"},qa={class:"main-container"},Ua={class:"mobile-navbar__header"},ja=G(()=>f("span",{style:ge([{"font-size":"1.2rem",fontWeight:"500"}])},"KenAI",-1)),Za={class:"navbar__header"},Wa={class:"new-btn__container"},Ga=G(()=>f("span",{class:"material-icons"},"add",-1)),Ya={class:"text animate__animated animate__fadeIn"},Xa={class:"navbar__body animate__animated animate_fadeIn"},Qa={key:0,class:"reciente-txt"},Ja={key:1,class:"chats-skeleton"},el={key:2,class:"chats__container"},tl=G(()=>f("span",{class:"material-icons-outlined chat-icon"},"mark_chat_unread",-1)),nl={class:"text chat-name"},il={class:"navbar__footer"},sl=G(()=>f("span",{class:"material-icons-outlined chat-icon"},"settings",-1)),rl={class:"text"},ol={for:"language",style:{marginBottom:"10px",marginLeft:"5px"}},al={key:0,style:{display:"flex",alignItems:"center"}},ll={key:1},cl={style:{display:"flex",alignItems:"center"}},ul={class:"navbar__header"},dl={class:"menu-btn__container"},hl=G(()=>f("span",{class:"material-icons menu-icon"},"menu",-1)),fl={class:"new-btn__container"},pl=G(()=>f("span",{class:"material-icons"},"add",-1)),ml={key:0,class:"text animate__animated animate__fadeIn"},gl={key:0,class:"navbar__body animate__animated animate_fadeIn"},yl={key:0,class:"reciente-txt"},bl={key:1,class:"chats-skeleton"},vl={key:2,class:"chats__container"},kl=G(()=>f("span",{class:"material-icons-outlined chat-icon"},"mark_chat_unread",-1)),wl={class:"text chat-name"},Il={class:"navbar__footer"},_l=G(()=>f("span",{class:"material-icons-outlined chat-icon"},"settings",-1)),xl={key:0,class:"text"},Cl={for:"language",style:{marginBottom:"10px",marginLeft:"5px"}},Sl={key:0,style:{display:"flex",alignItems:"center"}},Ll={key:1},El={style:{display:"flex",alignItems:"center"}},Al={class:"chat__container"},Tl={class:"chat__header"},Bl=G(()=>f("h1",{style:{padding:"0",margin:"0"}},"KenAI",-1)),Rl=G(()=>f("span",{class:"material-icons menu-icon"},"menu",-1)),Ol={class:"profile__container"},$l={class:"chat__body"},Pl={class:"title_new-chat__container"},zl={key:0,class:"new-chat-title"},Dl={key:1,class:"new-chat-subtitle"},Ml={key:0,class:"presets animate__fadeIn animate__animated"},Kl={class:"presets-label"},Nl={class:"level__container"},Fl=G(()=>f("span",{class:"material-icons",style:{"font-size":"1rem"}},"translate",-1)),Vl={class:"prompt__container"},Hl={key:1,class:"chat-messages-loading messages__container"},ql={class:"message__container user-message__container"},Ul={class:"top-fieldset-user"},jl={class:"message__container"},Zl={class:"top-fieldset"},Wl={key:2,class:"messages__container animate__animated animate__fadeIn"},Gl={class:"message__container user-message__container"},Yl={class:"top-fieldset-user"},Xl=["innerHTML"],Ql=["id"],Jl={class:"top-fieldset"},ec={key:0,class:"loader",style:ge([{display:"flex",gap:"5px","flex-direction":"column",alignContent:"flex-start"}])},tc=["innerHTML"],nc={class:"chat__footer"},ic=G(()=>f("span",{class:"material-icons-outlined chat-icon"},"mic",-1)),sc={class:"char-counter"},rc=G(()=>f("span",{class:"material-icons-outlined"},"send",-1)),ht=300,oc={__name:"ChatView",setup(n){const{t:e,locale:t}=En(),i=nt("ws://localhost:5000"),s=D(!1),r=D(!1),o=Ct(),a=ft({visible:!1,title:null,idChat:null,invalid:!1,message:null,fetching:!1}),l=D(0),c=D(""),u=D([{prompt_title:"Hola, como ests?",level:0},{prompt_title:"Hola, me ayudas a practicar?",level:1},{prompt_title:"Hola, por que el cielo es azul?",level:2},{prompt_title:"Hola, como aprend verbos irregulares?",level:0},{prompt_title:"Hola, quiero practicar ingles",level:1},{prompt_title:"Hola, Nivel B2, simulacion de entrevista laboral",level:2}]),p=D([{breakpoint:"1400px",numVisible:2,numScroll:1},{breakpoint:"1199px",numVisible:3,numScroll:1},{breakpoint:"767px",numVisible:2,numScroll:1},{breakpoint:"575px",numVisible:1,numScroll:1}]),y=R=>[{label:e("chat.rename"),icon:"pi pi-pencil",command:()=>{try{xe(),a.visible=!0,a.idChat=R}catch(C){console.log(C)}}},{label:e("chat.delete"),icon:"pi pi-times",command:async()=>{try{_.setLoading(!0),await Lo(R)?(await _.loadChats(),R===_.getActiveChatID()&&_.newChat(),o.add({severity:"success",summary:e("chat.deleted"),detail:e("chat.success.deleted"),life:3e3})):o.add({severity:"error",summary:"Error",detail:e("chat.error.no_chat_deleted"),life:3e3})}catch(C){o.add({severity:"error",summary:"Error",detail:e("chat.error.no_chat_deleted"),life:3e3}),console.log(C)}}}],b=D([{name:e("chat.english"),icon:"translate",flag:"us",code:"en"},{name:e("chat.spanish"),icon:"translate",flag:"mx",code:"es"}]),T=D(""),A=D(!1),B=Nt(),F=Ao(),se=ii(),_=ni(),Ie=An(),re=To(),j=D(re.langCode),V=D();Vi(async()=>{se.initWidthWatch(),A.value=!0;try{await B.loadSession(),F.loadNavbar(),await _.loadChats(),re.loadLang(),t.value=re.langCode,b.value.forEach(R=>{R.code===re.langCode&&(j.value=R)})}catch(R){console.log(R)}finally{A.value=!1}i.on("connect",()=>{console.log("Connected to WebSocket")}),i.on("message_part",R=>{R.chat_id===_.getActiveChatID()&&(chat.kenai.renderedResponse+=R.part)}),i.on("complete",R=>{R.chat_id===_.getActiveChatID()&&(chat.kenai.loading=!1)})}),Hi(()=>{se.destroyWidthWatch(),i.off("message_part"),i.off("complete"),i.close()}),Ln(T,R=>{const C=document.querySelector(".p-inputtextarea");C&&(R===""?C.style.height="22px":(C.style.height="auto",C.style.height=`${C.scrollHeight}px`));const te=document.querySelector("#tools-bar");C.style.height==="22px"?te.style.borderRadius="3rem":te.style.borderRadius="1.6rem"});const _e=R=>{V.value.toggle(R)},H=()=>{a.visible=!1,xe()},xe=()=>{a.title=null,a.idChat=null,a.invalid=!1,a.message=null,a.fetching=!1},ki=async()=>{if(!a.title||a.title.trim()===""){a.invalid=!0,a.message=e("chat.error.no_title");return}else a.fetching=!0,a.invalid=!1,a.message=null,await _.renameChat(a.idChat,a.title,e),a.fetching=!1,H(),_.loadChats()},wi=()=>{F.toggleExtended()},Zt=async()=>{if(_.isNewChat&&_.desactivateNewChat(),T.value.length>0){s.value=!0;const R=T.value.replace(/\n/g,"<br>"),C=ft({index:l.value,user:{message:R,username:B.isAuthenticated?B.user.give_name:null,sentAt:new Date},kenai:{response:"",renderedResponse:"",loading:!0,respondedAt:null,error:!1,errorMessage:""}});_.chatHistory.push(C),T.value="",c.value="animate__animated animate__fadeOut",setTimeout(()=>{_.setNewMessageSent(!0),Ie.scrollToLastMessage()},700);try{const te=await Vr({prompt:R,user_id:B.isAuthenticated?B.user.id:null,username:B.isAuthenticated?B.user.username:null,chat_id:_.getActiveChatID()});if(l.value++,_.getActiveChatID()===null)_.chats.unshift(te.chat),_.setActiveChatID(te.chat_id);else{const Ve=_.chats.findIndex(Ce=>Ce.id_chat===te.chat_id);if(Ve!==-1){const[Ce]=_.chats.splice(Ve,1);_.chats.unshift(Ce)}}_.kenaiErrorResponse&&_.setKenaiErrorResponse(!1)}catch(te){C.kenai.error=!0,C.kenai.errorMessage=te.message||"An error occurred",C.kenai.loading=!1,_.setKenaiErrorResponse(!0),console.error(te.message)}finally{s.value=!1,_.setNewMessageSent(!1),c.value=""}}},Ii=R=>{R.shiftKey||(R.preventDefault(),Zt())},_i=R=>{const C=R.target.value;C.length>ht?(T.value=C.slice(0,ht),R.target.value=T.value):T.value=C},xi=xt(()=>T.value.length),Ci=()=>{F.toggleExtended()},Wt=R=>{r.value=!r.value},Gt=R=>{const C=R.value;re.changeLang(C.code),j.value=C};return(R,C)=>{const te=Q("Toast"),Ve=Rt,Ce=Wi,U=At,ct=Hn,He=Bt,Yt=Q("router-link"),M=Nn,Xt=Kn,qe=Q("country-flag"),Qt=Gi,Si=zn,Li=Pn,Ei=$n,Ai=Xi,Ue=On,Ti=Yi,Bi=Bn,Ri=Tn,oe=fe("tooltip");return d(),g(ae,null,[v(te),v(Ca,{loading:A.value},null,8,["loading"]),v(ct,{visible:a.visible,"onUpdate:visible":C[1]||(C[1]=x=>a.visible=x),draggable:!1,modal:"",showHeader:!1,style:{width:"25rem",overflow:"hidden"}},{default:k(()=>[a.fetching?(d(),S(Ve,{key:0,mode:"indeterminate",class:"rename-dialog-bar"})):w("",!0),f("h2",null,L(h(e)("chat.edit_chat_title")),1),f("span",Ka,L(h(e)("chat.update_title_description")),1),f("div",Na,[f("label",Fa,L(h(e)("chat.new_title_label")),1),v(Ce,{modelValue:a.title,"onUpdate:modelValue":C[0]||(C[0]=x=>a.title=x),invalid:a.invalid,id:"new-chat-title",autocomplete:"off"},null,8,["modelValue","invalid"]),a.invalid?(d(),g("small",Va,L(a.message),1)):w("",!0)]),f("div",Ha,[v(U,{type:"button",label:h(e)("prime_ui.cancel"),severity:"secondary",onClick:H},null,8,["label"]),v(U,{type:"button",label:h(e)("prime_ui.edit"),onClick:ki},null,8,["label"])])]),_:1},8,["visible"]),f("main",qa,[h(se).isMobile?(d(),S(Si,{key:0,visible:h(F).extended,"onUpdate:visible":C[5]||(C[5]=x=>h(F).extended=x),class:"mobile-navbar"},{header:k(()=>[f("div",Ua,[v(He,{image:h(sn)},null,8,["image"]),v(Yt,{to:"/"},{default:k(()=>[v(U,{severity:"secondary",text:""},{default:k(()=>[ja]),_:1})]),_:1})])]),default:k(()=>[f("section",Za,[f("div",Wa,[K((d(),S(U,{severity:"secondary",onClick:C[2]||(C[2]=x=>h(_).newChat()),disabled:!h(B).isAuthenticated||h(_).getActiveChatID()===null,size:"small",class:"new-btn",rounded:"",outlined:""},{default:k(()=>[Ga,f("span",Ya,L(h(e)("chat.new_chat")),1)]),_:1},8,["disabled"])),[[oe,h(e)("chat.new_chat"),void 0,{bottom:!0}]])])]),f("section",Xa,[h(B).isAuthenticated&&h(_).chats.length?(d(),g("span",Qa,L(h(e)("chat.recent")),1)):w("",!0),h(B).isAuthenticated&&(A.value||h(_).loading)?(d(),g("div",Ja,[v(M,{class:"animate__animated animate__fadeInLeft ske-chat-1",height:"40px"}),v(M,{class:"animate__animated animate__fadeInLeft ske-chat-2",height:"40px",style:{"margin-top":"10px"}}),v(M,{class:"animate__animated animate__fadeInLeft ske-chat-3",height:"40px",style:{"margin-top":"10px"}}),v(M,{class:"animate__animated animate__fadeInLeft ske-chat-4",height:"40px",style:{"margin-top":"10px"}})])):w("",!0),h(B).isAuthenticated&&!A.value&&!h(_).loading?(d(),g("div",el,[(d(!0),g(ae,null,Je(h(_).chats,x=>K((d(),S(Xt,{key:x.id_chat,icon:"pi pi-check",severity:x.id_chat===h(_).getActiveChatID()?"primary":"secondary",class:"chat-btn",menuButtonIcon:"pi pi-ellipsis-v",onClick:je=>h(_).updateChatMessages(x.id_chat),model:y(x.id_chat)},{default:k(()=>[tl,f("span",nl,L(x.chat_name),1)]),_:2},1032,["severity","onClick","model"])),[[oe,{value:x.chat_name,showDelay:300}]])),128))])):w("",!0)]),f("section",il,[K((d(),S(U,{label:"Secondary",severity:"secondary",text:"",class:"settings-btn",rounded:"",onClick:Wt,"aria-haspopup":"true","aria-controls":"overlay_menu"},{default:k(()=>[sl,f("span",rl,L(h(e)("chat.settings")),1)]),_:1})),[[oe,{value:h(e)("chat.settings")},void 0,{top:!0}]]),v(ct,{visible:r.value,"onUpdate:visible":C[4]||(C[4]=x=>r.value=x),header:h(e)("chat.settings"),style:{width:"25rem"},position:"bottomleft",modal:!0,draggable:!1},{default:k(()=>[f("label",ol,L(h(e)("chat.language")),1),v(Qt,{modelValue:j.value,"onUpdate:modelValue":C[3]||(C[3]=x=>j.value=x),name:"language",onChange:Gt,style:{width:"100%"},options:b.value,optionLabel:"name"},{value:k(x=>[j.value?(d(),g("div",al,[v(qe,{country:j.value.flag,size:"small"},null,8,["country"]),f("div",null,L(j.value.name),1)])):(d(),g("span",ll,L(h(e)("chat.select_a_lang")),1))]),option:k(x=>[f("div",cl,[v(qe,{country:x.option.flag,size:"small"},null,8,["country"]),f("div",null,L(x.option.name),1)])]),_:1},8,["modelValue","options"])]),_:1},8,["visible","header"])])]),_:1},8,["visible"])):w("",!0),h(se).isMobile?w("",!0):(d(),g("section",{key:1,class:J(["navbar__container",h(F).extended?"":"not-extended"])},[f("section",ul,[f("div",dl,[K((d(),S(U,{severity:"secondary",size:"small",text:"",rounded:"",onClick:Ci},{default:k(()=>[hl]),_:1})),[[oe,{value:h(F).extended?h(e)("chat.collapse_menu"):h(e)("chat.expand_menu")}]])]),f("div",fl,[A.value?(d(),S(M,{key:0,height:"40px",borderRadius:"100px"})):K((d(),S(U,{key:1,severity:"secondary",size:"small",class:"new-btn",rounded:"",outlined:"",disabled:(!h(B).isAuthenticated||h(_).getActiveChatID()===null)&&!h(_).kenaiErrorResponse,onClick:C[6]||(C[6]=x=>h(_).newChat())},{default:k(()=>[pl,h(F).extended?(d(),g("span",ml,L(h(e)("chat.new_chat")),1)):w("",!0)]),_:1},8,["disabled"])),[[oe,h(e)("chat.new_chat"),void 0,{bottom:!0}]])])]),h(F).extended?(d(),g("section",gl,[h(B).isAuthenticated&&h(_).chats.length?(d(),g("span",yl,L(h(e)("chat.recent")),1)):w("",!0),h(B).isAuthenticated&&(A.value||h(_).loading)?(d(),g("div",bl,[v(M,{class:"animate__animated animate__fadeInLeft ske-chat-1",height:"40px"}),v(M,{class:"animate__animated animate__fadeInLeft ske-chat-2",height:"40px",style:{"margin-top":"10px"}}),v(M,{class:"animate__animated animate__fadeInLeft ske-chat-3",height:"40px",style:{"margin-top":"10px"}}),v(M,{class:"animate__animated animate__fadeInLeft ske-chat-4",height:"40px",style:{"margin-top":"10px"}})])):w("",!0),h(B).isAuthenticated&&!A.value&&!h(_).loading?(d(),g("div",vl,[(d(!0),g(ae,null,Je(h(_).chats,x=>K((d(),S(Xt,{key:x.id_chat,icon:"pi pi-check",severity:x.id_chat===h(_).getActiveChatID()?"primary":"secondary",class:"chat-btn",menuButtonIcon:"pi pi-ellipsis-v",onClick:je=>h(_).updateChatMessages(x.id_chat),model:y(x.id_chat)},{default:k(()=>[kl,f("span",wl,L(x.chat_name),1)]),_:2},1032,["severity","onClick","model"])),[[oe,{value:x.chat_name,showDelay:300}]])),128))])):w("",!0)])):w("",!0),f("section",Il,[K((d(),S(U,{label:"Secondary",severity:"secondary",text:"",class:"settings-btn",rounded:"",onClick:Wt,"aria-haspopup":"true","aria-controls":"overlay_menu"},{default:k(()=>[_l,h(F).extended?(d(),g("span",xl,L(h(e)("chat.settings")),1)):w("",!0)]),_:1})),[[oe,{value:h(e)("chat.settings")},void 0,{top:!0}]]),v(ct,{visible:r.value,"onUpdate:visible":C[8]||(C[8]=x=>r.value=x),header:h(e)("chat.settings"),style:{width:"25rem"},position:"bottomleft",modal:!0,draggable:!1},{default:k(()=>[f("label",Cl,L(h(e)("chat.language")),1),v(Qt,{modelValue:j.value,"onUpdate:modelValue":C[7]||(C[7]=x=>j.value=x),name:"language",onChange:Gt,style:{width:"100%"},options:b.value,optionLabel:"name"},{value:k(x=>[j.value?(d(),g("div",Sl,[v(qe,{country:j.value.flag,size:"small"},null,8,["country"]),f("div",null,L(j.value.name),1)])):(d(),g("span",Ll,L(h(e)("chat.select_a_lang")),1))]),option:k(x=>[f("div",El,[v(qe,{country:x.option.flag,size:"small"},null,8,["country"]),f("div",null,L(x.option.name),1)])]),_:1},8,["modelValue","options"])]),_:1},8,["visible","header"])])],2)),f("section",Al,[f("div",Tl,[h(se).isMobile?K((d(),S(U,{key:1,onClick:wi,severity:"secondary",text:"",rounded:"","aria-label":"Menu",size:"large"},{default:k(()=>[Rl]),_:1})),[[oe,{value:h(F).extended?h(e)("chat.collapse_menu"):h(e)("chat.expand_menu")}]]):(d(),S(Yt,{key:0,to:"/"},{default:k(()=>[v(U,{severity:"secondary",text:""},{default:k(()=>[Bl]),_:1})]),_:1})),f("div",Ol,[A.value?(d(),S(M,{key:0,shape:"circle",size:"3rem"})):(d(),S(U,{key:1,severity:"secondary",text:"",rounded:"",style:ge([{padding:"5px"}])},{default:k(()=>[v(He,{image:h(B).isAuthenticated?h(B).user.picture:h(un),size:"default",shape:"circle",onClick:_e},null,8,["image"])]),_:1})),v(Li,{ref_key:"op",ref:V,showCloseIcon:"",style:ge([{width:h(se).isMobile?"100dvw":"436px"}])},{default:k(()=>[v(Ma)]),_:1},8,["style"])])]),f("div",$l,[(h(_).getActiveChatID()===null||h(_).isNewChat)&&!h(_).getChatLoading()&&!h(_).newMessageSent&&!h(_).kenaiErrorResponse?(d(),g("div",{key:0,class:J(["firt-chat",c.value])},[f("div",Pl,[A.value?w("",!0):(d(),g("p",zl,L(h(e)("chat.nice_to_see_you")),1)),A.value?w("",!0):(d(),g("p",Dl,L(h(e)("chat.what_you_want_to_talk")),1))]),A.value?w("",!0):(d(),g("div",Ml,[f("label",Kl,L(h(e)("chat.recomendations")),1),v(Ai,{class:"carrousel",value:u.value,numVisible:3,numScroll:1,responsiveOptions:p.value,circular:"",autoplayInterval:3e3},{item:k(x=>[v(U,{label:"Contrast",class:"pre-prompt__container",severity:"contrast",outlined:""},{default:k(()=>[f("div",Nl,[v(Ei,{severity:x.data.level===0?"success":x.data.level===1?"info":"warning",rounded:"",style:{display:"flex","justify-content":"center",gap:"5px"}},{default:k(()=>[Fl,$e(" "+L(x.data.level===0?h(e)("chat.basic"):x.data.level===1?h(e)("chat.intermediate"):h(e)("chat.advanced")),1)]),_:2},1032,["severity"])]),f("div",Vl,'"'+L(x.data.prompt_title)+'"',1)]),_:2},1024)]),_:1},8,["value","responsiveOptions"])]))],2)):h(_).getChatLoading()?(d(),g("div",Hl,[f("div",ql,[v(Ue,{class:"user-message"},{legend:k(()=>[f("div",Ul,[v(M,{shape:"circle",size:"2rem"})])]),default:k(()=>[v(M,{width:"300px",height:"4rem",style:{"margin-top":"20px"}})]),_:1})]),f("div",jl,[v(Ue,{class:"message"},{legend:k(()=>[f("div",Zl,[v(M,{shape:"circle",size:"2rem",style:{"margin-top":"3px"}})])]),default:k(()=>[v(M,{width:"100%",height:"4rem",style:{"margin-top":"10px"}})]),_:1})])])):(d(),g("div",Wl,[(d(!0),g(ae,null,Je(h(_).chatHistory,(x,je)=>(d(),g("div",{key:je},[f("div",Gl,[v(Ue,{class:"user-message"},{legend:k(()=>[f("div",Yl,[v(He,{image:h(B).isAuthenticated?h(B).user.picture:h(un),shape:"circle"},null,8,["image"])])]),default:k(()=>[f("p",{innerHTML:x.user.message,class:"message-content"},null,8,Xl)]),_:2},1024)]),f("div",{class:"message__container",id:je===h(_).chatHistory.length-1?"last-message":""},[v(Ue,{class:"message"},{legend:k(()=>[f("div",Jl,[v(He,{image:h(sn)},null,8,["image"])])]),default:k(()=>[x.kenai.loading?(d(),g("div",ec,[v(M),v(M,{width:"70%"}),v(M,{width:"40%"})])):w("",!0),x.kenai.error?(d(),S(Ti,{key:1,severity:"error"},{default:k(()=>[$e(L(x.kenai.errorMessage),1)]),_:2},1024)):w("",!0),f("p",{class:"response",innerHTML:h($)(x.kenai.renderedResponse)},null,8,tc)]),_:2},1024)],8,Ql)]))),128))]))]),f("div",nc,[v(Ri,{class:"prompt-tools",id:"tools-bar"},{start:k(()=>[A.value?(d(),S(M,{key:0,shape:"circle",size:"42px"})):K((d(),S(U,{key:1,label:"Secondary",severity:"secondary",rounded:"",text:"",class:"prompt-tool-btn",disabled:s.value},{default:k(()=>[ic]),_:1},8,["disabled"])),[[oe,{value:h(e)("chat.record_audio")},void 0,{top:!0}]])]),center:k(()=>[A.value?(d(),S(M,{key:0,height:"35px",style:{"margin-bottom":"7px"}})):(d(),S(Bi,{key:1,type:"text",onInput:_i,onKeydown:qi(Ii,["enter"]),placeholder:h(e)("chat.type_a_message"),modelValue:T.value,"onUpdate:modelValue":C[9]||(C[9]=x=>T.value=x),disabled:s.value,size:"small",variant:"filled",rows:"1"},null,8,["placeholder","modelValue","disabled"])),f("div",sc,L(xi.value)+"/"+L(ht),1)]),end:k(()=>[A.value?(d(),S(M,{key:0,shape:"circle",size:"42px"})):K((d(),S(U,{key:1,severity:"primary",rounded:"",class:"prompt-tool-btn",text:"",onClick:Zt,disabled:s.value},{default:k(()=>[rc]),_:1},8,["disabled"])),[[oe,{value:h(e)("chat.send")},void 0,{top:!0}]])]),_:1})])])])],64)}}},hc=St(oc,[["__scopeId","data-v-45252c92"]]);export{hc as default};
