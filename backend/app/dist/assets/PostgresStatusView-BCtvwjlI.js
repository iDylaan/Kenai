import{B as x,s as w}from"./baseicon.esm-Dy0iezZl.js";import{o as n,c as i,m as f,s as $,f as d,_ as k,g as l,E as D,i as s,j as y,a,t as c,y as h,p as E,q as I}from"./index-BlaYRkMP.js";import{a as P,b as V}from"./progressspinner.esm-vWE0DsMb.js";var z={root:function(o){var e=o.props;return{justifyContent:e.layout==="horizontal"?e.align==="center"||e.align===null?"center":e.align==="left"?"flex-start":e.align==="right"?"flex-end":null:null,alignItems:e.layout==="vertical"?e.align==="center"||e.align===null?"center":e.align==="top"?"flex-start":e.align==="bottom"?"flex-end":null:null}}},B={root:function(o){var e=o.props;return["p-divider p-component","p-divider-"+e.layout,"p-divider-"+e.type,{"p-divider-left":e.layout==="horizontal"&&(!e.align||e.align==="left")},{"p-divider-center":e.layout==="horizontal"&&e.align==="center"},{"p-divider-right":e.layout==="horizontal"&&e.align==="right"},{"p-divider-top":e.layout==="vertical"&&e.align==="top"},{"p-divider-center":e.layout==="vertical"&&(!e.align||e.align==="center")},{"p-divider-bottom":e.layout==="vertical"&&e.align==="bottom"}]},content:"p-divider-content"},C=x.extend({name:"divider",classes:B,inlineStyles:z}),b={name:"BaseDivider",extends:w,props:{align:{type:String,default:null},layout:{type:String,default:"horizontal"},type:{type:String,default:"solid"}},style:C,provide:function(){return{$parentInstance:this}}},m={name:"Divider",extends:b,inheritAttrs:!1},j=["aria-orientation"];function L(t,o,e,p,r,u){return n(),i("div",f({class:t.cx("root"),style:t.sx("root"),role:"separator","aria-orientation":t.layout},t.ptmi("root")),[t.$slots.default?(n(),i("div",f({key:0,class:t.cx("content")},t.ptm("content")),[$(t.$slots,"default")],16)):d("",!0)],16,j)}m.render=L;async function N(){try{const t=await fetch("/postgres/status",{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok)throw new Error("Error en la petición");const o=await t.json();if(o.success)return o.data;throw new Error(o.error.message)}catch(t){throw new Error(t.message)}}const g=t=>(E("data-v-24e7fe99"),t=t(),I(),t),G={style:{padding:"15px"}},M=g(()=>a("h1",null,"Estatus de conexión con PostgreSQL",-1)),T={key:0},q={key:1,class:"conection-successfully"},A={style:{display:"flex"}},F={class:"m-0"},H={class:"m-0"},O={class:"m-0"},Q={key:2,class:"conection-error"},J=g(()=>a("span",{style:{"font-size":"1.3rem","font-weight":"600"}},"¡Conexión fallida!",-1)),K=g(()=>a("h3",{style:{margin:"0"}},"Detalles del error",-1)),R={__name:"PostgresStatusView",setup(t){const o=l(!0),e=l(!0),p=l(""),r=l(null);return D(async()=>{try{r.value=await N(),console.log(r),o.value=!0}catch(u){o.value=!1,p.value=u.message}finally{e.value=!1}}),(u,U)=>{const S=V,v=P,_=m;return n(),i("div",G,[M,e.value?(n(),i("div",T,[s(S,{"aria-label":"Loading"})])):d("",!0),o.value&&!e.value?(n(),i("div",q,[s(v,{severity:"success"},{default:y(()=>[h("¡Conexión exitosa!")]),_:1}),a("div",A,[a("p",F,"Version: "+c(r.value.version),1),s(_,{layout:"vertical"}),a("p",H,"Fecha: "+c(r.value.date_time.current_date),1),s(_,{layout:"vertical"}),a("p",O,"Hora: "+c(r.value.date_time.current_time),1)])])):d("",!0),!o.value&&!e.value?(n(),i("div",Q,[s(v,{severity:"error",style:{padding:"20px"}},{default:y(()=>[J]),_:1}),s(v,{severity:"secondary"},{default:y(()=>[K,h(" "+c(p.value),1)]),_:1})])):d("",!0)])}}},Z=k(R,[["__scopeId","data-v-24e7fe99"]]);export{Z as default};
